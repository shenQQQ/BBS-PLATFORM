{"version":3,"sources":["components/side_bar/style.js","const/index.js","reducers/auth.js","reducers/flashMessage.js","reducers/config.js","reducers/globalConfig.js","reducers/index.js","const/store.js","components/side_bar/index.js","pages/article/index.js","pages/home/style.js","components/recommend_block/style.js","config/config.js","utils/axios.js","components/recommend_block/index.js","components/card_list/style.js","utils/getDateDiff.js","components/card_list/index.js","pages/home/index.js","components/header/style.js","utils/setHeaderToken.js","actions/authActions.js","components/header/index.js","pages/content/style.js","components/uploadPicture/ImageClip.js","components/uploadPicture/index.js","components/contribution/index.js","pages/content/index.js","pages/searchPage/index.js","components/signUpForm/index.js","actions/signupActions.js","actions/flashMessageActions.js","pages/signUpPage/index.js","components/flash/flashMessageList/style.js","components/flash/flashMessageList/index.js","components/loginForm/index.js","pages/loginPage/index.js","pages/myArticle/index.js","pages/myCollect/index.js","pages/create/index.js","pages/edit/index.js","utils/getConfig.js","actions/configActions.js","actions/globalConfigActions.js","utils/getGlobalConfig.js","pages/tagPage/style.js","pages/tagPage/index.js","pages/user/index.js","pages/myMessage/index.js","App.js","utils/authByLocalStorageToken.js","index.js"],"names":["SideBarWrapper","styled","div","ADD_FLASH_MESSAGE","SET_CURRENT_USER","SET_CONFIG","SET_GLOBAL_CONFIG","login","state","action","type","user","isAuth","isEmpty","username","flashMessage","id","shortid","generate","message","text","getconfig","config","getGlobalConfig","globalConfig","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","SubMenu","Menu","Side_bar","props","renderMenuData","data","map","item","Item","onClick","window","location","href","platform_address","key","title","menuList","project_name","subscribe","getState","menu","setState","className","to","this","defaultSelectedKeys","defaultOpenKeys","mode","icon","HomeFilled","RocketFilled","ThunderboltFilled","AppstoreFilled","React","Component","withRouter","connect","Article","HomeWrapper","RecommendBlockWrapper","document","body","clientWidth","ServerUrl","LocalStorageTokenName","Axios","axios","create","baseURL","interceptors","response","use","res","code","localStorage","clear","reload","contentStyle","height","color","lineHeight","textAlign","background","RecommendBlock","url","get","then","content","articleId","src","head_img","style","autoplay","CardListWrapper","getDateDiff","dateTimeStamp","hour","minute","day","diffValue","Date","getTime","monthC","weekC","dayC","hourC","minC","parseInt","Meta","Card","Card_list","grid","gutter","column","dataSource","renderItem","cover","alt","pathname","user_id","avatar","in_time","StarOutlined","collect_count","CommentOutlined","comment_count","Home","pages","records","total","catch","error","console","log","showQuickJumper","defaultCurrent","onChange","pageNumber","params","pageNo","justify","pageSize","HeaderWrapper","setHeaderToken","token","defaults","headers","common","setCurrentUser","Search","Input","Header","current","not_read","onSearch","value","onLogout","logout","handleClick","e","componentDidMount","userState","initWebSocket","websocket_address","ws","WebSocket","onopen","payload","userId","send","JSON","stringify","onclose","onerror","onmessage","parse","notification","open","SmileOutlined","selectedKeys","logined","width","BookOutlined","count","size","placeholder","allowClear","dispatch","removeItem","ContentWrapper","ImageClip","fileChange","S","picOM","_file","files","fileReader","FileReader","readAsDataURL","onload","ev","img","Image","target","result","n","W","H","IW","IH","IL","IT","drawImage","ctx","_canvas","getContext","clearRect","canvasToFile","canvas","arr","toDataURL","split","mime","match","bstr","atob","length","u8arr","Uint8Array","charCodeAt","File","MW","MH","ML","MT","MouseDown","position","onMouseDown","startX","clientX","startY","clientY","onMouseMove","changeX","changeY","onMouseUp","ref","x","borderStyle","left","top","display","backgroundColor","opacity","zIndex","accept","click","imagedata","getImageData","canvas2","createElement","ctx2","putImageData","formData","FormData","append","uploading","post","urls","change","success","k","errors","back","UploadPicture","stage","getUrl","imgurl","uploadTitle","uploadContent","ReplaceDot","obj","oldValue","valueOf","indexOf","replace","Contribution","editorContent","headImg","tag","isLoading","operation","documentElement","max_upload_image_size","max_upload_file_num","file_upload_timeout","elemMenu","refs","editorElemMenu","elemBody","editorElemBody","editor","E","onchange","html","txt","menus","uploadImgServer","uploadImgMaxSize","uploadImgMaxLength","uploadImgTimeout","customUploadImg","resultFiles","insertImgFn","cb","fd","i","uploadImageWithProgress","j","list","name","join","bind","marginTop","marginBottom","bordered","border","padding","borderTop","disabled","TextArea","Content","isUserCollect","isCollect","collect","cc","collectCount","unCollect","delete","renderTag","shape","marginRight","onSubmit","isCommentSendLoading","commentContent","userAvatar","comment","isAuthor","tagList","inTime","commentCount","view","comments","dangerouslySetInnerHTML","__html","StarFilled","float","alignSelf","rows","marginLeft","header","itemLayout","author","datetime","getUrlParam","search","theRequest","Object","strs","substr","decodeURI","SearchPage","keyword","SignupForm","preventDefault","password","repeat_password","signupActions","userSignupRequest","flashActions","addFlashMessage","history","email","userData","deleteFlashMessage","SignupPage","bindActionCreators","FlashMessageListWrapper","FlashMessageList","messages","index","showIcon","closable","LoginForm","setItem","LoginPage","MyArticle","messgae","onBack","MyCollect","Create","Edit","userMessageClick","isUserMessageLoading","bio","passwordClick","isPasswordLoading","old_password","margin","Password","getConfigration","setConfig","setGlobalConfig","TagWrapper","getRandomColor","r","Math","floor","random","g","b","toString","TagPage","tagName","page","borderColor","User","article","MyMessage","article_id","description","generateNotificationContent","ACTION","mainStyle","App","menuData","BBSToken","authByLocalStorageToken","exact","path","component","myMessage","edit","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e21c3c06.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const SideBarWrapper = styled.div`\r\n.side_bar{    \r\n    display: flex;\r\n    flex-direction: column;\r\n    position: fixed;\r\n    z-index: 1032;\r\n    top: 0;\r\n    left: 0;\r\n    width: 250px;\r\n    height: 100vh;\r\n    background: var(--gray-bg-pure);\r\n    overflow:auto;\r\n    background-color: #fff;\r\n}\r\n.side_bar_logo{\r\n    color: red;\r\n    font-size: 25px;\r\n    padding: 5%;\r\n    font-weight: 1000;\r\n    font-family: sans-serif;\r\n}\r\n::-webkit-scrollbar {\r\n    width: 1px;\r\n    height: 6px;\r\n    background-color: rgba(240, 240, 240, 1);\r\n  }\r\n   \r\n  /*定义滚动条轨道 内阴影+圆角*/\r\n  ::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 0px rgba(240, 240, 240, .5);\r\n    border-radius: 10px;\r\n    background-color: rgba(240, 240, 240, .5);\r\n  }\r\n   \r\n  /*定义滑块 内阴影+圆角*/\r\n  ::-webkit-scrollbar-thumb {\r\n    border-radius: 10px;\r\n    box-shadow: inset 0 0 0px rgba(240, 240, 240, .5);\r\n    background-color: rgba(240, 240, 240, .5);\r\n  }\r\n`","export const ADD_FLASH_MESSAGE = \"ADD_FLASH_MESSAGE\"\r\nexport const DELETE_FLASH_MESSAGE = \"DELETE_FLASH_MESSAGE\"\r\n\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\"\r\n\r\nexport const SET_CONFIG = \"SET_CONFIG\"\r\n\r\nexport const SET_GLOBAL_CONFIG=\"SET_GLOBAL_CONFIG\"","import { SET_CURRENT_USER } from \"../const\";\r\nimport isEmpty from \"lodash/isEmpty\"\r\n\r\nconst initialState = {\r\n    user : {},\r\n    isAuth : false\r\n}\r\n\r\nconst login = (state = {},action) =>{\r\n    //console.log(\"auth中的action值 \", action.user)\r\n    switch(action.type){\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                user: action.user,\r\n                isAuth: !isEmpty(action.user.username)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default login;","import { ADD_FLASH_MESSAGE, DELETE_FLASH_MESSAGE } from \"../const\";\r\nimport shortid from \"shortid\"\r\n\r\n\r\nconst flashMessage = (state = [], action) => {\r\n    switch (action.type) {\r\n        case ADD_FLASH_MESSAGE:\r\n            return [\r\n                ...state,\r\n                {\r\n                    id: shortid.generate(),\r\n                    type: action.message.type,\r\n                    text: action.message.text\r\n                }\r\n            ]\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default flashMessage","import { SET_CONFIG } from \"../const\";\r\n\r\nconst getconfig = (state = {},action) =>{\r\n    switch(action.type){\r\n        case SET_CONFIG:\r\n            return {\r\n                config: action.config\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default getconfig;","import { SET_GLOBAL_CONFIG } from \"../const\";\r\n\r\nconst getGlobalConfig = (state = {},action) =>{\r\n    switch(action.type){\r\n        case SET_GLOBAL_CONFIG:\r\n            return {\r\n                globalConfig: action.globalConfig\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default getGlobalConfig;","import { combineReducers } from \"redux\";\r\nimport login from \"./auth\";\r\nimport flashMessage from \"./flashMessage\";\r\nimport config from \"./config\";\r\nimport globalConfig from \"./globalConfig\";\r\n\r\nconst rootReducer = combineReducers({\r\n    login,\r\n    flashMessage,\r\n    config,\r\n    globalConfig\r\n})\r\n\r\nexport default rootReducer","import logger from 'redux-logger';//日志信息\r\nimport thunk from 'redux-thunk';//异步操作\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from '../reducers';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, thunk)));//reducers","import React from \"react\";\r\n\r\nimport { Menu } from 'antd'\r\nimport { AppstoreFilled, HomeFilled, RocketFilled, ThunderboltFilled } from '@ant-design/icons';\r\nimport { SideBarWrapper } from \"./style\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { store } from '../../const/store';\r\nimport { withRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst { SubMenu } = Menu;\r\nclass Side_bar extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            menuList: [],\r\n            project_name: \"\",\r\n            platform_address:\"\"\r\n        }\r\n    }\r\n\r\n    renderMenuData = (data) => {\r\n        return data.map(\r\n            (item) => {\r\n                return <Menu.Item key={item.key} onClick={\r\n                    () => {\r\n                        window.location.href = this.state.platform_address + item.key\r\n                    }\r\n                }>{item.title}</Menu.Item>\r\n            }\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        store.subscribe(() => {\r\n            if (store.getState().config.config) {\r\n                let config = store.getState().config.config.menu;\r\n                const menuList = this.renderMenuData(config)\r\n                this.setState({ menuList: menuList })\r\n            }\r\n            if (store.getState().globalConfig.globalConfig) {\r\n                let menu = store.getState().globalConfig.globalConfig.menu;\r\n                this.setState({ project_name: menu.project_name })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <SideBarWrapper>\r\n                    <div className=\"side_bar\">\r\n                        <Link to=\"/home\">\r\n                            <span className=\"side_bar_logo\">\r\n                                {this.state.project_name}\r\n                            </span>\r\n                        </Link>\r\n                        <Menu\r\n                            defaultSelectedKeys={['1']}\r\n                            defaultOpenKeys={['sub1']}\r\n                            mode=\"inline\"\r\n                        >\r\n                            <Menu.Item key=\"home\" icon={<HomeFilled />}><Link to=\"/home\">首页</Link></Menu.Item>\r\n                            <Menu.Item key=\"article\" icon={<RocketFilled />}><Link to=\"/articleList\">文章</Link></Menu.Item>\r\n                            <Menu.Item key=\"news\" icon={<ThunderboltFilled />}>新闻</Menu.Item>\r\n\r\n                            <SubMenu key=\"block\" icon={<AppstoreFilled />} title=\"热门板块\">\r\n                                {this.state.menuList}\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </div>\r\n                </SideBarWrapper >\r\n            </div >);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        config: state.config.config,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(Side_bar))","import React from \"react\";\r\nexport default class Article extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <p>这是文章界面</p>\r\n            </div>\r\n        )\r\n    }\r\n}","import styled from \"styled-components\";\r\nexport const HomeWrapper = styled.div`\r\nbody{\r\n    background-color: #f6f6f6;\r\n}\r\n.pageContainer{\r\n    display: flex;\r\n}\r\n.pagination{\r\n    text-align: center;\r\n}\r\n.menu{\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n`","import styled from \"styled-components\";\r\n\r\nexport const RecommendBlockWrapper = styled.div`\r\n\r\n.head_picture{\r\n    width: ${document.body.clientWidth*0.67*0.75 + \"px\"};\r\n    height: ${document.body.clientWidth*0.377*0.75 + \"px\"};\r\n    margin: 15px;\r\n}\r\n.suggest_list{\r\n    width: ${document.body.clientWidth*0.23 + \"px\"};\r\n    height: ${document.body.clientWidth*0.377*0.75 + \"px\"};\r\n    margin: 15px;\r\n}\r\n.pageContainer{\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n`\r\n\r\n  ","//export const ProjectName = \"Simple-BBS\"\r\nexport const ServerUrl = \"http://localhost:8080\"\r\n//export const MAX_UPLOAD_FILE_NUM = 3;\r\n//export const MAX_UPLOAD_IMAGE_FILE_SIZE = 3;\r\n//export const UPLOAD_TIMEOUT = 3000;\r\n//export const WebSocketURL = \"ws://localhost:8080/websocket\";\r\n\r\nexport const LocalStorageTokenName = \"BBSToken\"\r\n\r\nexport const INDEX_PAGE_SIZE = 15;\r\nexport const MY_ARTICLE_PAGE_SIZE = 15;\r\nexport const MY_COLLECT_PAGE_SIZE = 15;\r\nexport const SEARCH_PAGE_SIZE = 15;\r\n\r\n\r\n","import axios from 'axios';\r\nimport {ServerUrl} from '../config/config';\r\n\r\nconst Axios = axios.create({\r\n    baseURL: ServerUrl\r\n});\r\n\r\nAxios.interceptors.response.use(\r\n    res => {\r\n        //console.log(res);\r\n        // 如果返回的code是311，则表示token有问题，直接把登录信息清除\r\n        if (res.data && res.data.code === 311) {\r\n            localStorage.clear();\r\n            window.location.reload();\r\n        } \r\n        return res;\r\n    }\r\n);\r\n\r\nexport default Axios","import React from \"react\";\r\nimport { RecommendBlockWrapper } from \"./style\";\r\nimport 'antd/dist/antd.css';\r\nimport { Carousel } from 'antd';\r\nimport Axios from \"../../utils/axios\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst contentStyle = {\r\n    height: document.body.clientWidth * 0.377 * 0.75,\r\n    color: '#fff',\r\n    lineHeight: '160px',\r\n    textAlign: 'center',\r\n    background: '#364d79',\r\n};\r\n\r\nclass RecommendBlock extends React.Component {\r\n\r\n    state = {\r\n        url: \"\",\r\n        data: []\r\n    }\r\n    componentDidMount() {\r\n        Axios.get(\"/ad\").then(\r\n            res => {\r\n                this.setState({ url: res.data.content.url })\r\n            }\r\n        )\r\n        Axios.get(\"/recommend\").then(\r\n            res => {\r\n                this.setState({\r\n                    data: res.data.content.map(\r\n                        item => {\r\n                           return <div>\r\n                                <Link to={\"/article/\" + item.articleId}>\r\n                                    <img src={item.head_img} key={item.id} style={contentStyle} />\r\n                                </Link>\r\n                            </div>\r\n                        }\r\n                    )\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <RecommendBlockWrapper>\r\n                <div className=\"pageContainer\">\r\n                    <div className=\"head_picture\">\r\n                        <Carousel autoplay>\r\n                            {this.state.data}\r\n                        </Carousel>\r\n                    </div>\r\n                    <div className=\"suggest_list\">\r\n                        <img src={this.state.url} style={contentStyle} />\r\n                    </div>\r\n                </div>\r\n            </RecommendBlockWrapper >\r\n        )\r\n    }\r\n};\r\n\r\nexport default RecommendBlock","import styled from \"styled-components\";\r\n\r\nexport const CardListWrapper = styled.div`\r\n.site-card-wrapper {\r\n    padding:24px;\r\n  }\r\ncard{\r\n    margin:10px;\r\n}\r\n.description {\r\n  display: flex;\r\n  padding-top : 10px;\r\n  align-items: center;\r\n}\r\n.likeAndComment{\r\n  flex: 1;\r\n  text-align: right;\r\n  \r\n}\r\n`\r\n","export default function getDateDiff(dateTimeStamp) {\r\n    var result;\r\n    var minute = 1000 * 60;\r\n    var hour = minute * 60;\r\n    var day = hour * 24;\r\n    var halfamonth = day * 15;\r\n    var month = day * 30;\r\n    var now = new Date().getTime();\r\n    var diffValue = now - dateTimeStamp;\r\n    if (diffValue < 0) {\r\n        return;\r\n    }\r\n    var monthC = diffValue / month;\r\n    var weekC = diffValue / (7 * day);\r\n    var dayC = diffValue / day;\r\n    var hourC = diffValue / hour;\r\n    var minC = diffValue / minute;\r\n    if (monthC >= 1) {\r\n        if (monthC <= 12)\r\n            result = \"\" + parseInt(monthC) + \"月前\";\r\n        else {\r\n            result = \"\" + parseInt(monthC / 12) + \"年前\";\r\n        }\r\n    }\r\n    else if (weekC >= 1) {\r\n        result = \"\" + parseInt(weekC) + \"周前\";\r\n    }\r\n    else if (dayC >= 1) {\r\n        result = \"\" + parseInt(dayC) + \"天前\";\r\n    }\r\n    else if (hourC >= 1) {\r\n        result = \"\" + parseInt(hourC) + \"小时前\";\r\n    }\r\n    else if (minC >= 1) {\r\n        result = \"\" + parseInt(minC) + \"分钟前\";\r\n    } else {\r\n        result = \"刚刚\";\r\n    }\r\n    return result;\r\n};\r\n","import React from 'react'\r\nimport { CardListWrapper } from './style';\r\nimport 'antd/dist/antd.css';\r\nimport { Card, Avatar, List } from 'antd';\r\nimport { CommentOutlined, StarOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport getDateDiff from '../../utils/getDateDiff';\r\n\r\nconst { Meta } = Card;\r\n\r\nclass Card_list extends React.Component {\r\n\r\n    render() {\r\n        //console.log(this.props.data);\r\n        return (\r\n            <CardListWrapper>\r\n                <div className=\"site-card-wrapper\">\r\n                    <List\r\n                        grid={{ gutter: 24, column: 5 }}\r\n                        dataSource={this.props.data}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <Card cover={<img src={item.head_img} alt=\"item.title\" />} key={item.id}>\r\n                                    <Link to={{ pathname: `/article/` + item.id }}>\r\n                                        <Meta title={item.title} />\r\n                                    </Link>\r\n                                    <div className='description'>\r\n                                        <Link to={{ pathname: `/user/` + item.user_id }}>\r\n                                            <Avatar src={item.avatar} />\r\n                                        </Link>\r\n                                        <div>\r\n                                            <span>{item.username}</span>\r\n                                            <br />\r\n                                            <small>{getDateDiff(item.in_time)}</small>\r\n                                        </div>\r\n                                        <div className='likeAndComment'>\r\n                                            <StarOutlined />{item.collect_count}\r\n                                            &nbsp;\r\n                                            <CommentOutlined />{item.comment_count}\r\n                                        </div>\r\n                                    </div>\r\n                                </Card>\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                </div>\r\n            </CardListWrapper >\r\n        );\r\n    }\r\n}\r\n\r\nexport default Card_list;","import React from 'react'\r\nimport { HomeWrapper } from './style';\r\nimport RecommendBlock from '../../components/recommend_block';\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from '../../utils/axios';\r\nimport { Pagination } from 'antd';\r\nimport { INDEX_PAGE_SIZE } from '../../config/config';\r\n\r\nclass Home extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            pages: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get('/article/index')\r\n            .then(res => {\r\n                this.setState({ data: res.data.content.records })\r\n                this.setState({ total: res.data.content.total })\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <RecommendBlock />\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get('/article/index',{\r\n                                params:{\r\n                                    pageNo: pageNumber\r\n                                }\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={INDEX_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nexport default Home;","import styled from \"styled-components\";\r\n\r\nexport const HeaderWrapper = styled.div`\r\n.header{\r\n    display: flex;\r\n    height: 60px;\r\n    margin-left: 250px;\r\n    background-color:#f7f7f76b;\r\n}\r\n.search{\r\n    margin: auto;\r\n}\r\n.menu{\r\n    margin-left: auto;\r\n}\r\n.after-login{\r\n    padding: 0px;\r\n}\r\n`","import axios from \"axios\";\r\nimport Axios from \"./axios\";\r\n\r\nconst setHeaderToken = (token) => {\r\n    if (token) {\r\n        Axios.defaults.headers.common['Authorization'] = token;\r\n    } else {\r\n        delete Axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setHeaderToken","import { SET_CURRENT_USER } from \"../const\";\r\nimport Axios from \"../utils/axios\";\r\nimport setHeaderToken from \"../utils/setHeaderToken\";\r\nimport { LocalStorageTokenName } from \"../config/config\";\r\n\r\nexport const setCurrentUser = (user) => {\r\n    return {\r\n        type: SET_CURRENT_USER,\r\n        user\r\n    }\r\n}\r\n\r\nconst user = {\r\n    username: \"\",\r\n    id : \"\",\r\n    avatar : \"\",\r\n}\r\nexport const logout = () =>{\r\n    return dispatch => {\r\n        localStorage.removeItem(LocalStorageTokenName);\r\n        setHeaderToken(user);\r\n        dispatch(setCurrentUser(user));\r\n    }\r\n}\r\n\r\nexport const login = (data) => {\r\n    return dispatch => {\r\n        return Axios.post(\"/login\", data)\r\n    }\r\n}","import React from \"react\";\r\nimport { HeaderWrapper } from \"./style\";\r\nimport { Input, message } from \"antd\";\r\nimport { Menu, Avatar, Image } from 'antd';\r\nimport { BookOutlined } from '@ant-design/icons';\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions/authActions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { notification } from 'antd';\r\nimport { Badge } from \"antd\";\r\nimport { store } from '../../const/store';\r\nimport { SmileOutlined } from '@ant-design/icons';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst { Search } = Input;\r\n\r\nclass Header extends React.Component {\r\n\r\n    state = {\r\n        current: '',\r\n        not_read: 0\r\n    };\r\n\r\n    onSearch = value => {\r\n        if (value === '') {\r\n            message.error(\"搜索词不能为空\");\r\n            return;\r\n        }\r\n        window.location.href = this.props.globalConfig.menu.platform_address + \"/searchPage?keywords=\" + value;\r\n        //this.props.history.push({pathname:\"/searchPage\",state:{keywords:value}})\r\n    };\r\n\r\n    onLogout = () => {\r\n        this.props.logout();\r\n        window.location.reload();\r\n        //this.props.history.replace(\"/\")\r\n    }\r\n\r\n    handleClick = e => {\r\n        //console.log('click ', e);\r\n        this.setState({ current: e.key });\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        store.subscribe(() => {\r\n            if (this.props.userState.isAuth) {\r\n                this.initWebSocket(this.props.globalConfig.menu.websocket_address)\r\n            }\r\n        })\r\n    }\r\n\r\n    initWebSocket = (url) => {\r\n        const ws = new WebSocket(url);\r\n        ws.onopen = () => {\r\n            console.log(\"连接建立\")\r\n            var user = {\r\n                username: this.props.userState.user.username,\r\n                userId: this.props.userState.user.id\r\n            }\r\n            sendMessage(\"bind\", user);\r\n        }\r\n        ws.onclose = () => {\r\n            console.log(\"连接关闭\")\r\n        }\r\n        ws.onerror = (e) => {\r\n            console.log(\"出现异常\", e);\r\n        }\r\n        ws.onmessage = (data) => {\r\n            console.log(\"收到信息\", data.data);\r\n            var data = JSON.parse(data.data);\r\n            if (data.type === \"notification_notread\") {\r\n                this.setState({ not_read: data.payload })\r\n            }\r\n            if (data.payload && data.type !== \"notification_notread\") {\r\n                notification.open({\r\n                    message: data.payload,\r\n                    icon: <SmileOutlined style={{ color: '#108ee9' }} />\r\n                });\r\n            }\r\n        }\r\n        function sendMessage(type, payload) {\r\n            ws.send(JSON.stringify({ type: type, payload: payload }));\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { current } = this.state;\r\n        const login = (\r\n            <Menu className=\"before-login\" onClick={this.handleClick} selectedKeys={[current]} mode=\"horizontal\" style={{ height: 60 }}>\r\n                <Menu.Item key=\"signup\">\r\n                    <Link to=\"/signup\">注册</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"login\">\r\n                    <Link to=\"/login\">登录</Link>\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n\r\n        const logined = (\r\n            <Menu className=\"after-login\" onClick={this.handleClick} selectedKeys={[current]} mode=\"horizontal\" style={{ height: 60, width: 174 }}>\r\n                <Menu.Item key=\"contribution\" icon={<BookOutlined />}>\r\n                    <Link to=\"/create\">投稿</Link>\r\n                </Menu.Item>\r\n                <SubMenu key=\"user\" icon={<Badge count={this.state.not_read}><Avatar src={<Image src={this.props.userState.isAuth ? this.props.userState.user.avatar : null} size=\"small\" />} /></Badge>}>\r\n                    <Menu.Item key=\"myArticle\"><Link to=\"/myArticle\">文章</Link></Menu.Item>\r\n                    <Menu.Item key=\"myCollect\"><Link to=\"/myCollect\">收藏</Link></Menu.Item>\r\n                    <Menu.Item key=\"myMessage\"><Link to=\"/myMessage\">消息</Link></Menu.Item>\r\n                    <Menu.Item key=\"edit\"><Link to=\"/edit\">编辑资料</Link></Menu.Item>\r\n                    <Menu.Item key=\"logout\" onClick={this.onLogout}>注销</Menu.Item>\r\n                </SubMenu>\r\n            </Menu>\r\n        )\r\n        //console.log(\"props \", this.props.userState.isAuth)\r\n        return (\r\n            <HeaderWrapper>\r\n                <div className=\"header\">\r\n                    <div className=\"search\">\r\n                        <Search placeholder=\"input search text\" allowClear onSearch={this.onSearch} style={{ width: 400 }} />\r\n                    </div>\r\n\r\n                    <div className=\"menu\">\r\n                        {\r\n                            this.props.userState.isAuth ? logined : login\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </HeaderWrapper>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, { logout })(Header))","import styled from \"styled-components\";\r\nexport const ContentWrapper = styled.div`\r\n.content{\r\n    width: 50%;\r\n    margin: 0 auto;\r\n    margin-top: 30px;\r\n    line-height:40px;\r\n}\r\n.article_head{\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.article_title{\r\n    width: ${(document.body.clientWidth-250)*0.45 + \"px\"};\r\n    height: ${(document.body.clientWidth-250)*0.253+ \"px\"};\r\n    padding: 50px;\r\n    padding-left: ${(document.body.clientWidth-250)*0.45*0.3 + \"px\"};\r\n}\r\n.title_img{\r\n    width: ${(document.body.clientWidth-250)*0.45 + \"px\"};\r\n    height: ${(document.body.clientWidth-250)*0.253+ \"px\"};\r\n}\r\n.description {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top:50px;\r\n  }\r\n.comment{\r\n    width: 50%;\r\n    margin: 0 auto;\r\n    margin-top: 30px;\r\n    line-height:40px;\r\n}\r\n.text{\r\n    margin-left: 40px;\r\n}\r\n.statement{\r\n    color: grey;\r\n}\r\n.modify{\r\n    margin-top:40px;\r\n}\r\na{\r\n    color: black;\r\n}\r\n`","import React from \"react\";\r\nimport Axios from \"../../utils/axios\";\r\nimport { message } from \"antd\";\r\n\r\nclass ImageClip extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let W = this.props.width,\r\n            H = this.props.height,\r\n            MW = W * 0.9,\r\n            MH = MW * this.props.height / this.props.width,\r\n            ML = (W - MW) / 2,\r\n            MT = (H - MH) / 2;\r\n\r\n        this.state = {\r\n            W, H, MW, MH, ML, MT,\r\n            S: false,\r\n            MouseDown: false,\r\n            url: \"\",\r\n        }\r\n    }\r\n    render() {\r\n        let { W, H, MW, MH, MT, ML, S } = this.state\r\n        //console.log(this.props)\r\n        return (\r\n            <div className='clipImageBox' style={{ position: \"relative\" }}>\r\n                <div className='canvasBoxDiv'\r\n                    onMouseDown={\r\n                        ev => {\r\n                            //let point = ev.changedTouches[0];\r\n                            this.startX = ev.clientX;\r\n                            this.startY = ev.clientY;\r\n                            this.setState({ MouseDown: true });\r\n                        }\r\n                    }\r\n                    onMouseMove={\r\n                        ev => {\r\n                            if (this.state.MouseDown) {\r\n                                let changeX = ev.clientX - this.startX;\r\n                                let changeY = ev.clientY - this.startY;\r\n                                //console.log(changeX, changeY)\r\n                                this.IL += changeX;\r\n                                this.IT += changeY;\r\n                                this.drawImage();\r\n                                this.startX = ev.clientX;\r\n                                this.startY = ev.clientY;\r\n                            }\r\n                        }\r\n                    }\r\n                    onMouseUp={\r\n                        ev => {\r\n                            this.setState({ MouseDown: false });\r\n                        }\r\n                    }>\r\n                    <canvas className='canvasBox'\r\n                        ref={x => this._canvas = x}\r\n                        width={W}\r\n                        height={H}\r\n                        style={{ borderStyle: \"solid\" }}\r\n                    ></canvas>\r\n                    <div className='mark'\r\n                        style={{\r\n                            width: MW + \"px\",\r\n                            height: MH + \"px\",\r\n                            left: ML + \"px\",\r\n                            top: MT + \"px\",\r\n                            display: S ? \"block\" : \"none\",\r\n                            backgroundColor: \"#123123\",\r\n                            opacity: 0.3,\r\n                            position: \"absolute\",\r\n                            zIndex: 20\r\n                        }}\r\n                    ></div>\r\n                </div>\r\n                <div>\r\n                    <input type=\"file\" accept='image/*' className='file' ref={x => { this._file = x }} style={{ display: \"none\" }} onChange={this.fileChange} />\r\n                    <button className='choose' onClick={() => { this._file.click() }}>选择图片</button>\r\n                    <button onClick={\r\n                        ev => {\r\n                            if (!this.img) return;\r\n                            this.IW += 10;\r\n                            this.IH += 10 * (this.img.height / this.img.width);\r\n                            this.drawImage();\r\n                        }}>放大</button>\r\n                    <button onClick={ev => {\r\n                        if (!this.img) return;\r\n                        this.IW -= 10;\r\n                        this.IH -= 10 * (this.img.height / this.img.width);\r\n                        this.drawImage();\r\n                    }}>缩小</button>\r\n                    <button className=\"submit\" onClick={\r\n                        ev => {\r\n                            if (!this.img) return;\r\n                            let imagedata = this.ctx.getImageData(ML, MT, MW, MH),\r\n                                canvas2 = document.createElement(\"canvas\"),\r\n                                ctx2 = canvas2.getContext(\"2d\");\r\n                            canvas2.width = MW;\r\n                            canvas2.height = MH;\r\n                            ctx2.putImageData(imagedata, 0, 0, 0, 0, MW, MH);\r\n                            //console.log(this.canvasToFile(canvas2));\r\n                            const formData = new FormData()\r\n                            formData.append(\"file\", this.canvasToFile(canvas2));\r\n                            formData.append('type', this.props.type)\r\n                            this.setState({\r\n                                uploading: true\r\n                            })\r\n                            Axios.post(\"/upload/\", formData).then(\r\n                                res => {\r\n                                    //console.log(res.data);\r\n                                    if (res.data.code === 200) {\r\n                                        this.setState({ url: res.data.content.urls[0] })\r\n                                        //this.props.change(canvas2.toDataURL(),this.state.url);\r\n                                        this.props.change(this.state.url);\r\n                                        message.success(\"图片上传成功\");\r\n                                    } else {\r\n                                        if (!res.data.content) {\r\n                                            message.error(res.data.message)\r\n                                        } else {\r\n                                            var error = \"\";\r\n                                            for (var k = 0; k < res.data.content.errors.length; k++) {\r\n                                                error += res.data.content.errors[k] + \"<br/>\";\r\n                                            }\r\n                                            message.error(error);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            ).catch(error => { console.log(\"axios error \", error); })\r\n\r\n                        }\r\n                    }>保存图片</button>\r\n                    <button onClick={() => {\r\n                        this.props.back()\r\n                    }}>放弃上传</button>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n\r\n    fileChange = () => {\r\n        this.setState({ S: true })\r\n        let picOM = this._file.files[0];\r\n        if (!picOM) return;\r\n        let fileReader = new FileReader();\r\n        fileReader.readAsDataURL(picOM);\r\n        fileReader.onload = (ev) => {\r\n            this.img = new Image();\r\n            this.img.src = ev.target.result;\r\n            this.img.onload = () => {\r\n                let n = 1,\r\n                    { W, H } = this.state;\r\n                this.IW = this.img.width;\r\n                this.IH = this.img.height;\r\n                if (this.IW > this.IH) {\r\n                    n = this.IW / W;\r\n                    this.IW = W;\r\n                    this.IH = this.IH / n;\r\n                } else {\r\n                    n = this.IH / H;\r\n                    this.IH = H;\r\n                    this.IW = this.IW / n;\r\n                }\r\n                this.IL = (W - this.IW) / 2;\r\n                this.IT = (H - this.IH) / 2;\r\n                this.drawImage();\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImage = () => {\r\n        let { W, H } = this.state;\r\n        this.ctx = this._canvas.getContext(\"2d\");\r\n        this.ctx.clearRect(0, 0, W, H);\r\n        this.ctx.drawImage(this.img, this.IL, this.IT, this.IW, this.IH);\r\n    }\r\n\r\n    canvasToFile = (canvas) => {\r\n        var fileName = \"generate.jpg\";\r\n        var dataurl = canvas.toDataURL(\"image/jpg\");\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        var file = new File([u8arr], fileName, { type: mime });\r\n        //file.lastModifiedDate = new Date();\r\n        return file\r\n    }\r\n}\r\nexport default ImageClip;","import React from \"react\";\r\nimport ImageClip from \"./ImageClip\";\r\n\r\nclass UploadPicture extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            stage: 0,\r\n            //pic: '',\r\n            url: '',\r\n        }\r\n    }\r\n    render() {\r\n        let { stage } = this.state;\r\n        let imgurl = \"\";\r\n        if (this.props.url) {\r\n            imgurl = this.state.url === '' ? this.props.url : this.state.url\r\n        }else{\r\n            imgurl = this.state.url\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"baseInfo\" style={{ display: stage === 0 ? 'block' : 'none', }}>\r\n                    <div className=\"imgBox\" onClick={() => { this.setState({ stage: 1 }) }} style={{ display: imgurl === '' ? 'none' : 'block' }}>\r\n                        <img src={imgurl} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"messageBox\" onClick={() => { this.setState({ stage: 1 }) }} style={{ display: imgurl === '' ? 'block' : 'none', backgroundColor: \"#ccc\" }}>\r\n                        <br />\r\n                        <p style={{ textAlign: \"center\" }}>{this.props.uploadTitle}</p>\r\n                        <p style={{ textAlign: \"center\" }}>{this.props.uploadContent}</p>\r\n                        <br />\r\n                    </div>\r\n                </div>\r\n                <div className=\"ImageClip\" style={{ display: stage === 0 ? 'none' : 'block', }}>\r\n                    <ImageClip change={this.change} back={this.back} type={this.props.type} width={this.props.width} height={this.props.height} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    change = (url) => {\r\n        this.setState({ stage: 0 })\r\n        this.setState({ url: url })\r\n        this.props.getUrl(url)\r\n    }\r\n    back = () => {\r\n        this.setState({ stage: 0 })\r\n    }\r\n}\r\nexport default UploadPicture;","import { message, Button, Input } from 'antd';\r\nimport React from \"react\";\r\nimport E from 'wangeditor';\r\nimport Axios from \"../../utils/axios\"\r\nimport { ContentWrapper } from \"../../pages/content/style\";\r\nimport UploadPicture from '../uploadPicture';\r\nimport { ServerUrl, MAX_UPLOAD_FILE_NUM, MAX_UPLOAD_IMAGE_FILE_SIZE, UPLOAD_TIMEOUT } from '../../config/config';\r\nimport { withRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { connect } from \"react-redux\";\r\nimport { store } from '../../const/store';\r\n\r\nfunction uploadImageWithProgress(files, cb) {\r\n    var fd = new FormData();\r\n    var type = \"article\";\r\n    for (var i = 0; i < files.length; i++) { fd.append(\"file\", files[i]); }\r\n    fd.append(\"type\", type);\r\n    Axios.post(\"/upload/\", fd).then(\r\n        res => {\r\n            if (res.data.code === 200) {\r\n                message.success(\"上传成功\");\r\n                cb(res.data);\r\n            } else {\r\n                message.error(res.data.message);\r\n            }\r\n        }\r\n    ).catch(error => { console.log(\"axios error \", error); })\r\n}\r\nfunction ReplaceDot(obj) {\r\n    var oldValue = obj.valueOf();\r\n    while (oldValue.indexOf(\"，\") != -1)//寻找每一个中文逗号，并替换\r\n    {\r\n        obj = oldValue.replace(\"，\", \",\").valueOf();\r\n        oldValue = obj.valueOf();\r\n    }\r\n    obj = oldValue.valueOf();\r\n    return obj;\r\n}\r\nclass Contribution extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editorContent: '',\r\n            headImg: \"\",\r\n            title: \"\",\r\n            tag: \"\",\r\n            isLoading: false,\r\n            operation: \"/save/\",\r\n            type: \"headImg\",\r\n            width: (document.documentElement.clientWidth - 250) * 0.5,\r\n            height: (document.documentElement.clientWidth - 250) * 0.5 * 9 / 16,\r\n            uploadTitle: \"选择文章头图\",\r\n            uploadContent: \"\",\r\n            max_upload_image_size: 3,\r\n            max_upload_file_num: 3,\r\n            file_upload_timeout: 3\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.globalConfig) {\r\n            this.setState({ max_upload_image_size: this.props.globalConfig.menu.max_upload_image_size })\r\n            this.setState({ max_upload_file_num: this.props.globalConfig.menu.max_upload_file_num })\r\n            this.setState({ file_upload_timeout: this.props.globalConfig.file_upload_timeout })\r\n            this.setState({ uploadContent: \"请插入文件小于\" + this.props.globalConfig.menu.max_upload_image_size + \"M，格式为png,jpg,jpeg,gif的16:9图片\" })\r\n        }\r\n        const elemMenu = this.refs.editorElemMenu;\r\n        const elemBody = this.refs.editorElemBody;\r\n        const editor = new E(elemMenu, elemBody)\r\n        editor.config.onchange = html => { this.setState({ editorContent: editor.txt.html() }) }\r\n        editor.config.menus = [\r\n            'head',  // 标题\r\n            'bold',  // 粗体\r\n            'italic',  // 斜体\r\n            'strikeThrough',  // 删除线\r\n            'link',  // 插入链接\r\n            'list',  // 列表\r\n            'justify',  // 对齐方式\r\n            'quote',  // 引用\r\n            'emoticon',  // 表情\r\n            'image',  // 插入图片\r\n            'table',  // 表格\r\n            'video',  // 插入视频\r\n            'code',  // 插入代码\r\n            'undo',  // 撤销\r\n            'redo'  // 重复\r\n        ]\r\n        //editor.config.uploadImgShowBase64 = true\r\n        editor.config.uploadImgServer = ServerUrl + '/upload';  // 上传图片到服务器\r\n        editor.config.uploadImgMaxSize = this.state.max_upload_image_size * 1024 * 1024;\r\n        editor.config.uploadImgMaxLength = this.state.max_upload_file_num;\r\n        editor.config.uploadImgTimeout = this.state.file_upload_timeout;\r\n        editor.config.customUploadImg = function (resultFiles, insertImgFn) {\r\n            uploadImageWithProgress(resultFiles, function (data) {\r\n                for (var j = 0; j < data.content.urls.length; j++) {\r\n                    var url = data.content.urls[j];\r\n                    insertImgFn(url);\r\n                }\r\n            });\r\n        }\r\n        if (this.props.operation) {\r\n            this.setState({ operation: \"/update/\" + this.props.operation.replace(\"/article/\", \"\") })\r\n            Axios.get(this.props.operation)\r\n                .then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.setState({ editorContent: res.data.content.content })\r\n                        this.setState({ headImg: res.data.content.headImg })\r\n                        this.setState({ title: res.data.content.title })\r\n                        this.setState({\r\n                            tag:\r\n                                res.data.content.list.map((obj) => {\r\n                                    return obj.name\r\n                                }).join(\",\")\r\n                        })\r\n                        editor.create()\r\n                        editor.txt.html(this.state.editorContent)\r\n                    } else {\r\n                        message.error(res.data.message);\r\n                        window.location.href = \"/\";\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        } else {\r\n            editor.create()\r\n            editor.txt.html(this.state.editorContent)\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ContentWrapper>\r\n                <div className=\"content\" >\r\n                    <div className=\"head-img\">\r\n                        <UploadPicture getUrl={this.getUrl.bind(this)} type={this.state.type} width={this.state.width} height={this.state.height} uploadTitle={this.state.uploadTitle} uploadContent={this.state.uploadContent} url={this.state.headImg} />\r\n                    </div>\r\n                    <div style={{ marginTop: \"20px\", marginBottom: \"20px\" }}>\r\n                        <Input placeholder=\"请输入标题\" value={this.state.title} bordered={false} onChange={(e) => { this.setState({ title: e.target.value }) }} size=\"large\" />\r\n                    </div>\r\n                    <hr />\r\n                    <div style={{ marginTop: \"20px\", marginBottom: \"20px\" }}>\r\n                        <Input placeholder=\"请输入标签,不必输入#，标签之间请使用逗号分割\" value={this.state.tag} bordered={false} onChange={(e) => { this.setState({ tag: e.target.value }) }} size=\"large\" />\r\n                    </div>\r\n                    <div ref=\"editorElemMenu\" style={{ backgroundColor: '#f1f1f1', border: \"1px solid #ccc\" }} className=\"editorElem-menu\"></div>\r\n                    <div style={{ padding: \"0 10px\", border: \"0px solid #ccc\", borderTop: \"none\" }} ref=\"editorElemBody\" className=\"editorElem-body\">\r\n\r\n                    </div>\r\n                    <Button disabled={this.state.isLoading}\r\n                        onClick={() => {\r\n                            if (this.state.title === '') {\r\n                                message.error(\"请输入标题\");\r\n                                return;\r\n                            }\r\n                            if (this.state.headImg === '') {\r\n                                message.error(\"请上传头图\");\r\n                                return;\r\n                            }\r\n                            if (this.state.editorContent === '') {\r\n                                message.error(\"请输入正文\");\r\n                                return;\r\n                            }\r\n                            this.setState({\r\n                                isLoading: true\r\n                            });\r\n                            Axios.post(\"/article\" + this.state.operation, {\r\n                                title: this.state.title,\r\n                                content: this.state.editorContent,\r\n                                headImg: this.state.headImg,\r\n                                tag: ReplaceDot(this.state.tag)\r\n                            }).then(\r\n                                res => {\r\n                                    //console.log(res.data);\r\n                                    if (res.data.code === 200) {\r\n                                        message.success(\"上传成功\");\r\n                                        window.location.href = \"/\"\r\n                                    } else {\r\n                                        message.error(res.data.message);\r\n                                    }\r\n                                    this.setState({ isLoading: false })\r\n                                }\r\n                            ).catch(error => { console.log(\"axios error \", error); })\r\n                        }}> 上传文章 </Button>\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n\r\n    getUrl(url) {\r\n        this.setState({ headImg: url });\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userState: state.login,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(Contribution))","import React from 'react'\r\nimport Axios from \"../../utils/axios\"\r\nimport { Image, Input, message } from 'antd';\r\nimport { ContentWrapper } from './style';\r\nimport { Avatar } from 'antd';\r\nimport { StarFilled } from '@ant-design/icons';\r\nimport { Button } from 'antd';\r\nimport { Comment, List } from 'antd';\r\nimport getDateDiff from \"../../utils/getDateDiff\"\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { store } from '../../const/store';\r\nimport Contribution from '../../components/contribution';\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nconst { TextArea } = Input;\r\n\r\n\r\n\r\nclass Content extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        //console.log(props.location.state.id);\r\n        this.state = {\r\n            username: '',\r\n            avatar: '',\r\n            userAvatar: '',\r\n            comment: [],\r\n            isAuth: false,\r\n            isAuthor: false,\r\n            isCollect: false,\r\n            isLoading: false,\r\n            isCommentSendLoading: false,\r\n            stage: true,\r\n            tagList: [],\r\n            platform_address:\"\"\r\n        }\r\n\r\n\r\n    }\r\n\r\n    isUserCollect = () => {\r\n        if (!this.state.isAuth) {\r\n            return;\r\n        }\r\n        Axios.get(\"/collect/\" + this.state.id).then(\r\n            res => {\r\n                if (res.data.code === 200) {\r\n                    this.setState({ isCollect: res.data.content })\r\n                } else {\r\n                    message.error(res.data.message);\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    collect = () => {\r\n        this.setState({ isLoading: true });\r\n        let cc = this.state.collectCount + 1\r\n        Axios.post(\"/collect/\" + this.state.id).then(\r\n            res => {\r\n                if (res.data.code === 200) {\r\n                    message.success(\"收藏成功\")\r\n                    this.setState({ isCollect: true })\r\n                    this.setState({ collectCount: cc })\r\n                } else {\r\n                    message.error(res.data.message);\r\n                }\r\n                this.setState({ isLoading: false });\r\n            }\r\n\r\n        )\r\n\r\n    }\r\n\r\n    unCollect = () => {\r\n        this.setState({ isLoading: true });\r\n        let cc = this.state.collectCount - 1\r\n        Axios.delete(\"/collect/\" + this.state.id).then(\r\n            res => {\r\n                if (res.data.code === 200) {\r\n                    message.success(\"取消收藏成功\")\r\n                    this.setState({ isCollect: false })\r\n                    this.setState({ collectCount: cc })\r\n                } else {\r\n                    message.error(res.data.message);\r\n                }\r\n                this.setState({ isLoading: false });\r\n            }\r\n        )\r\n        this.setState({ isLoading: false });\r\n    }\r\n\r\n    renderTag = (data) => {\r\n        return data.map(\r\n            (item) => {\r\n                return <Button shape=\"round\" key={item.name} style={{ marginRight: \"5px\" }} onClick={\r\n                    () => {\r\n                        window.location.href = this.state.platform_address + \"/tag/\" + item.id\r\n                    }\r\n                }>{\"#\" + item.name}</Button>\r\n            }\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        store.subscribe(() => {\r\n            if (store.getState().globalConfig.globalConfig) {\r\n                let menu = store.getState().globalConfig.globalConfig.menu;\r\n                this.setState({ project_name: menu.project_name })\r\n            }\r\n            let userState = store.getState().login\r\n            this.setState({ isAuth: userState.isAuth })\r\n            this.setState({ userAvatar: userState.user.avatar })\r\n            if (userState.user.username === this.state.username) {\r\n                this.setState({ isAuthor: true })\r\n            } else {\r\n                this.setState({ isAuthor: false })\r\n            }\r\n            this.isUserCollect();\r\n        })\r\n        Axios.get(this.props.location.pathname)\r\n            .then(res => {\r\n                if (res.data.code === 200) {\r\n                    console.log(res.data.content)\r\n                    this.setState({ id: res.data.content.id })\r\n                    this.setState({ userId: res.data.content.userId })\r\n                    this.setState({ content: res.data.content.content })\r\n                    this.setState({ head_img: res.data.content.headImg })\r\n                    this.setState({ title: res.data.content.title })\r\n                    this.setState({ avatar: res.data.content.avatar })\r\n                    this.setState({ inTime: res.data.content.inTime })\r\n                    this.setState({ commentCount: res.data.content.commentCount })\r\n                    this.setState({ collectCount: res.data.content.collectCount })\r\n                    this.setState({ view: res.data.content.view })\r\n                    this.setState({ username: res.data.content.username })\r\n                    this.setState({ comment: res.data.content.comments })\r\n                    this.setState({ tagList: this.renderTag(res.data.content.list) })\r\n\r\n                    this.setState({ userAvatar: this.props.userState.user.avatar })\r\n                    this.setState({ isAuth: this.props.userState.isAuth })\r\n\r\n                    if (this.props.userState.user.username === this.state.username) {\r\n                        this.setState({ isAuthor: true })\r\n                    } else {\r\n                        this.setState({ isAuthor: false })\r\n                    }\r\n                    this.isUserCollect()\r\n                } else {\r\n                    message.error(res.data.message);\r\n                    window.location.href = this.state.platform_address;\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit = () => {\r\n        this.setState({ isCommentSendLoading: true });\r\n        Axios.post(\"/comment/\" + this.state.id, { \"comment\": this.state.commentContent }).then(\r\n            res => {\r\n                if (res.data.code === 200) {\r\n                    message.success(\"评论发布成功\");\r\n                    window.location.reload();\r\n                }\r\n                else {\r\n                    message.error(res.data.message);\r\n                }\r\n                this.setState({ isCommentSendLoading: false });\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ContentWrapper>\r\n                <div style={{ display: !this.state.stage ? 'block' : 'none', }}>\r\n                    <Contribution operation={this.props.location.pathname} />\r\n                </div>\r\n                <div style={{ display: this.state.stage ? 'block' : 'none', }}>\r\n                    <div className='article_head'>\r\n                        <div className='article_title'>\r\n                            <h1>{this.state.title}</h1>\r\n                            <div className='description'>\r\n                                <Link to={{ pathname: `/user/` + this.state.userId }}>\r\n                                    <Avatar src={this.state.avatar} />\r\n                                </Link>\r\n                                <div className='text'>\r\n                                    <span>{this.state.username}</span>\r\n                                    <br />\r\n                                    <small>{getDateDiff(this.state.inTime)}</small>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='modify' style={{ display: this.state.isAuthor ? 'block' : 'none' }}>\r\n                                <a onClick={() => {\r\n                                    Axios.delete(this.props.location.pathname)\r\n                                        .then(res => {\r\n                                            if (res.data.code === 200) {\r\n                                                message.success(\"删除成功\")\r\n                                                window.location.href = \"/\";\r\n                                            } else {\r\n                                                message.error(res.data.message);\r\n                                            }\r\n                                        })\r\n                                        .catch(error => {\r\n                                            console.log(error);\r\n                                        });\r\n                                }}>删除</a>\r\n                                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                                <a onClick={() => {\r\n                                    this.setState({ stage: false });\r\n                                }}>修改</a>\r\n                            </div>\r\n                        </div>\r\n                        <div >\r\n                            <Image className=\"title_img\" src={this.state.head_img} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='content'>\r\n                        <div className='statement'>\r\n                            <p><small>本文系发布者投稿，文章内容不代表本站观点</small></p>\r\n                        </div>\r\n                        {/* <ReactMarkdown children={this.state.content} remarkPlugins={[remarkGfm]} /> */}\r\n                        <div dangerouslySetInnerHTML={{ __html: this.state.content }} />\r\n                        {this.state.tagList}\r\n                        <br />\r\n                        <Button icon={<StarFilled style={{ color: this.state.isCollect ? \"#1890ff\" : \"#969faf\" }} />} disabled={this.state.isLoading || !this.state.isAuth} onClick={this.state.isCollect ? this.unCollect : this.collect}>&nbsp;&nbsp;{this.state.collectCount}&nbsp;&nbsp;</Button>\r\n                        <br />\r\n                        <hr />\r\n                    </div>\r\n\r\n                    <div className='comment'>\r\n                        <div className='addComment' style={{ display: this.state.isAuth ? 'flex' : 'none', marginBottom: \"24px\" }}>\r\n                            <Avatar src={this.state.userAvatar} style={{ float: \"left\", alignSelf: \"center\" }} />\r\n                            <TextArea rows={2} style={{ width: \"80%\", marginLeft: \"20px\", marginRight: \"10px\" }} name=\"commentContent\" onChange={this.onChange} />\r\n                            <Button style={{ float: \"right\", alignSelf: \"center\" }} onClick={this.onSubmit} disabled={this.state.isCommentSendLoading}>发送</Button>\r\n                        </div>\r\n                        <List\r\n                            className=\"comment-list\"\r\n                            header={`${this.state.comment.length} 条回复`}\r\n                            itemLayout=\"horizontal\"\r\n                            dataSource={this.state.comment}\r\n                            renderItem={item => (\r\n                                <li>\r\n                                    <Comment\r\n                                        author={item.username}\r\n                                        avatar={item.avatar}\r\n                                        content={item.content}\r\n                                        datetime={getDateDiff(item.inTime)}\r\n                                    />\r\n                                </li>\r\n                            )}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(Content));","import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { SEARCH_PAGE_SIZE } from '../../config/config';\r\n\r\nfunction getUrlParam(name) {\r\n    var url = window.location.search; //获取url中\"?\"符后的字串   \r\n    var theRequest = new Object();\r\n    if (url.indexOf(\"?\") != -1) {\r\n        var str = url.substr(1);\r\n        var strs = str.split(\"&\");\r\n        for (var i = 0; i < strs.length; i++) {\r\n            theRequest[strs[i].split(\"=\")[0]] = decodeURI(strs[i].split(\"=\")[1]);\r\n        }\r\n    }\r\n    return theRequest[name];\r\n}\r\nclass SearchPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n       // console.log(this.props.location.state.keywords)\r\n        console.log(getUrlParam(\"keywords\"));\r\n        Axios.post('/article/search', {\r\n            keyword: getUrlParam(\"keywords\")\r\n            //keyword:this.props.location.state.keywords\r\n        })\r\n            .then(res => {\r\n                this.setState({ data: res.data.content.records })\r\n                this.setState({ total: res.data.content.total })\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.post('/article/search', {\r\n                                keyword: getUrlParam(\"keywords\"),\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={SEARCH_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nexport default SearchPage;","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { message } from 'antd';\r\n\r\nclass SignupForm extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            username: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            repeat_password: \"\",\r\n            errors: {},\r\n            isLoading: false //节流防抖\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.password !== this.state.repeat_password) {\r\n            message.error(\"两次密码不一致\");\r\n            return;\r\n        }\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n        this.props.signupActions.userSignupRequest(this.state).then(res => {\r\n            if (res.data.code !== 200) {\r\n                this.props.flashActions.addFlashMessage(\r\n                    {\r\n                        type: \"error\",\r\n                        text: res.data.message\r\n                    }\r\n                )\r\n                this.setState({ errors: res.data.message, isLoading: false })\r\n            } else {\r\n                //console.log(res.data.content);\r\n                this.props.flashActions.addFlashMessage(\r\n                    {\r\n                        type: \"success\",\r\n                        text: \"注册成功！请进行登录！\"\r\n                    }\r\n                )\r\n                this.props.history.replace(\"/\");\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <h1>注册</h1>\r\n                    <div>\r\n                        <label>username</label>\r\n                        <input name=\"username\" value={this.state.username} onChange={this.onChange} type=\"text\" />\r\n                    </div>\r\n                    <div >\r\n                        <label>password</label>\r\n                        <input name=\"password\" value={this.state.password} onChange={this.onChange} type=\"password\" />\r\n                    </div>\r\n                    <div >\r\n                        <label>repeat_password</label>\r\n                        <input name=\"repeat_password\" value={this.state.repeat_password} onChange={this.onChange} type=\"password\" />\r\n                    </div>\r\n                    <div >\r\n                        <label>email</label>\r\n                        <input name=\"email\" value={this.state.email} onChange={this.onChange} type=\"email\" />\r\n                    </div>\r\n                    <div>\r\n                        <button disabled={this.state.isLoading}>注册</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(SignupForm);","import Axios from \"../utils/axios\";\r\n\r\nexport const userSignupRequest = (userData) => {\r\n    return dispatch => {\r\n        return Axios.post(\"/signup\", userData)\r\n    }\r\n}","import { message } from \"antd\";\r\nimport { ADD_FLASH_MESSAGE,DELETE_FLASH_MESSAGE } from \"../const\";\r\n\r\nexport const addFlashMessage = (message)=>{\r\n    return{\r\n        type:ADD_FLASH_MESSAGE,\r\n        message\r\n    }\r\n}\r\n\r\nexport const deleteFlashMessage = (id)=>{\r\n    return{\r\n        type:DELETE_FLASH_MESSAGE,\r\n        message\r\n    }\r\n}","import React from \"react\";\r\nimport SignupForm from \"../../components/signUpForm\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as signupActions from \"../../actions/signupActions\";\r\nimport * as flashActions from \"../../actions/flashMessageActions\";\r\n\r\nclass SignupPage extends React.Component {\r\n    render() {\r\n    \r\n        return (\r\n            <div>\r\n                <SignupForm flashActions={this.props.flashActions} signupActions={this.props.signupActions} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatch = (dispatch) => {\r\n    return {\r\n        signupActions: bindActionCreators(signupActions, dispatch),\r\n        flashActions: bindActionCreators(flashActions, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatch)(SignupPage)","import styled from \"styled-components\";\r\n\r\nexport const FlashMessageListWrapper = styled.div`\r\n.container{\r\n    margin-left: 250px;\r\n}\r\n`","import { Alert } from \"antd\";\r\nimport React from \"react\";\r\nimport { FlashMessageListWrapper } from \"./style\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass FlashMessageList extends React.Component {\r\n    render() {\r\n        return (\r\n            <FlashMessageListWrapper>\r\n                <div className=\"container\">\r\n                    {\r\n                        this.props.messages.map((message, index) => {\r\n                            return <Alert message={message.text} type={message.type} key={index} showIcon closable />\r\n                        })\r\n                    }\r\n                </div>\r\n            </FlashMessageListWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messages: state.flashMessage\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(FlashMessageList)","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../actions/authActions\"\r\nimport setHeaderToken from \"../../utils/setHeaderToken\";\r\n\r\nimport { addFlashMessage } from \"../../actions/flashMessageActions\";\r\nimport { setCurrentUser } from \"../../actions/authActions\";\r\nimport { store } from \"../../const/store\";\r\nimport { LocalStorageTokenName } from \"../../config/config\";\r\n\r\n//todo: 替换掉flashMessage\r\nclass LoginForm extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            errors: {},\r\n            isLoading: false //节流防抖\r\n        }\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            isLoading: true\r\n\r\n        });\r\n        this.props.login(this.state).then((res) => {\r\n            if (res.data.code !== 200) {\r\n                this.props.addFlashMessage(\r\n                    {\r\n                        type: \"error\",\r\n                        text: res.data.message\r\n                    }\r\n                )\r\n                this.setState({ errors: res.data.message, isLoading: false })\r\n            } else {\r\n                const token = res.data.content.token;\r\n                localStorage.setItem(LocalStorageTokenName, token);\r\n                setHeaderToken(token);\r\n                //console.log(\"res \" , res.data.content);\r\n                this.props.addFlashMessage(\r\n                    {\r\n                        type: \"success\",\r\n                        text: \"登录成功！\"\r\n                    }\r\n                )\r\n                let user = {\r\n                    id : res.data.content.user.id,\r\n                    username : res.data.content.user.username,\r\n                    avatar : res.data.content.user.avatar\r\n                }\r\n                store.dispatch(setCurrentUser(user))\r\n                this.props.history.replace(\"/\");\r\n            }\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <h1>登录</h1>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"control-label\">username</label>\r\n                        <input name=\"username\" value={this.state.username} onChange={this.onChange} type=\"text\" className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"form_group\">\r\n                        <label className=\"control_label\">password</label>\r\n                        <input name=\"password\" value={this.state.password} onChange={this.onChange} type=\"password\" className=\"form_control\" />\r\n                    </div>\r\n                    <div className=\"form_group\">\r\n                        <button disabled={this.state.isLoading}>登录</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(connect(null, { login, addFlashMessage })(LoginForm));","import React from \"react\";\r\nimport LoginForm from \"../../components/loginForm\";\r\nclass LoginPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <LoginForm flashActions={this.props.flashActions}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default LoginPage","import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { message, Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { PageHeader } from 'antd';\r\nimport { MY_ARTICLE_PAGE_SIZE} from '../../config/config';\r\nimport { store } from '../../const/store';\r\n\r\nclass MyArticle extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"/article/user/\" + this.props.userState.user.id)\r\n            .then(res => {\r\n                //console.log(\"res \", res.data)\r\n                if (res.data.code === 200) {\r\n                    this.setState({ data: res.data.content.records })\r\n                    this.setState({ total: res.data.content.total })\r\n                } else {\r\n                    message.error(res.data.messgae)\r\n                    window.location.href = \"/\"\r\n                }\r\n            })\r\n            .catch(error => { console.log(error); })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.userState.isAuth) {\r\n            message.error(\"请先登录!\")\r\n            window.location.href = \"/\"\r\n        }\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => {window.history.back(-1)}}\r\n                        title=\"发表的文章\"\r\n                    />,\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(\"/article/user/\" + this.props.userState.user.id, {\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={MY_ARTICLE_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(MyArticle));","import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { message, Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { PageHeader } from 'antd';\r\nimport { MY_COLLECT_PAGE_SIZE } from '../../config/config';\r\n\r\nclass MyCollect extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"/article/collect/\" + this.props.userState.user.id)\r\n            .then(res => {\r\n                //console.log(\"res \", res.data)\r\n                if (res.data.code === 200) {\r\n                    this.setState({ data: res.data.content.records })\r\n                    this.setState({ total: res.data.content.total })\r\n                } else {\r\n                    message.error(res.data.messgae)\r\n                    window.location.href = \"/\"\r\n                }\r\n            })\r\n            .catch(error => { console.log(error); })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.userState.isAuth) {\r\n            message.error(\"请先登录!\")\r\n            window.location.href = \"/\"\r\n        }\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => { window.history.back(-1) }}\r\n                        title={this.props.userState.user.username + \"收藏的文章\"}\r\n                    />\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(\"/article/collect/\" + this.props.userState.user.id, {\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={MY_COLLECT_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login,\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(MyCollect));","import React from \"react\";\r\nimport Contribution from \"../../components/contribution\";\r\nclass Create extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Contribution/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Create;","import React from \"react\";\r\nimport UploadPicture from \"../../components/uploadPicture\";\r\nimport { withRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Input, message } from \"antd\";\r\nimport { PageHeader } from \"antd\";\r\nimport Axios from \"../../utils/axios\";\r\nimport { MAX_UPLOAD_IMAGE_FILE_SIZE } from \"../../config/config\";\r\nimport { store } from \"../../const/store\";\r\nimport { setCurrentUser } from \"../../actions/authActions\";\r\n\r\nclass Edit extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            id: '',\r\n            username: '',\r\n            bio: '',\r\n            avatar: \"\",\r\n            type: \"avatar\",\r\n            width: 150,\r\n            height: 150,\r\n            uploadTitle: \"选择用户头像\",\r\n            uploadContent: \"\",\r\n            isUserMessageLoading: false,\r\n            isPasswordLoading: false,\r\n            password: '',\r\n            old_password: '',\r\n            repeat_password: ''\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({uploadContent:\"请插入文件小于\" + this.props.globalConfig.menu.max_upload_image_size + \"M，格式为png,jpg,jpeg,gif的16:9图片\"})\r\n        Axios.get(\"/user/token\").then(\r\n            res => {\r\n                if (res.data.code === 200) {\r\n                    //console.log(res);\r\n                    if (res.data.content.id !== this.props.userState.user.id) {\r\n                        message.error(\"请使用自己的账号\");\r\n                        return;\r\n                    }\r\n                    this.setState({ id: res.data.content.id });\r\n                    this.setState({ username: res.data.content.username });\r\n                    this.setState({ email: res.data.content.email });\r\n                    this.setState({ bio: res.data.content.bio });\r\n                    this.setState({ avatar: res.data.content.avatar });\r\n                } else {\r\n                    message.error(res.data.message);\r\n                    window.location.href = \"/\"\r\n                }\r\n            }\r\n        ).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    getUrl(url) {\r\n        const user = {\r\n            username: \"\",\r\n            id: \"\",\r\n            avatar: \"\",\r\n        }\r\n        user.username = this.props.userState.user.username\r\n        user.id = this.props.userState.user.id\r\n        user.avatar = url\r\n        store.dispatch(setCurrentUser(user))\r\n        this.setState({ avatar: url });\r\n    }\r\n\r\n    userMessageClick = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            isUserMessageLoading: true\r\n        });\r\n        Axios.post(\"/user/update\", {\r\n            username: this.state.username,\r\n            bio: this.state.bio,\r\n            email: this.state.email\r\n        }).then(res => {\r\n            if (res.data.code !== 200) {\r\n                message.error(res.data.message)\r\n            } else {\r\n                message.success(\"更新成功！\");\r\n                const user = {\r\n                    username: \"\",\r\n                    id: \"\",\r\n                    avatar: \"\",\r\n                }\r\n                user.username = this.state.username\r\n                user.id = this.state.id\r\n                user.avatar = this.state.avatar\r\n                store.dispatch(setCurrentUser(user))\r\n            }\r\n            this.setState({ isUserMessageLoading: false })\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    passwordClick = (e) =>{\r\n        e.preventDefault();\r\n        if(this.state.password !== this.state.repeat_password){\r\n            message.error(\"两次输入的密码不一致\")\r\n            return\r\n        }\r\n        this.setState({\r\n            isPasswordLoading: true\r\n        });\r\n        Axios.post(\"/user/updatepwd\", {\r\n            password: this.state.password,\r\n            old_password: this.state.old_password\r\n        }).then(res => {\r\n            if (res.data.code !== 200) {\r\n                message.error(res.data.message)\r\n            } else {\r\n                message.success(\"更新成功！\");\r\n            }\r\n            this.setState({ isPasswordLoading: false })\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.userState.isAuth) {\r\n            message.error(\"请先登录!\")\r\n            window.location.href = \"/\"\r\n        }\r\n        return (\r\n            <div>\r\n                <PageHeader\r\n                    className=\"site-page-header\"\r\n                    onBack={() => { window.history.back(-1) }}\r\n                    title=\"编辑个人信息\"\r\n                />,\r\n                <div className=\"content\" style={{ width: \"50%\", lineHeight: \"30px\", margin: \"0 auto\", padding: \"24px\" }}>\r\n                    <div style={{ backgroundColor: \"#EEEEF2\", padding: \"24px\" }}>\r\n                        <h1 style={{ marginBottom: \"24px\" }}>个人信息</h1>\r\n                        <hr></hr>\r\n                        <div style={{ marginTop: \"15px\" }}>\r\n                            <h3><b>用户名</b></h3>\r\n                            <Input placeholder=\"请输入用户名\" value={this.state.username} name=\"username\" onChange={this.onChange} />\r\n                        </div>\r\n                        <div style={{ marginTop: \"24px\" }}>\r\n                            <h3><b>自我简介</b></h3>\r\n                            <Input placeholder=\"请输入自我简介\" value={this.state.bio} name=\"bio\" onChange={this.onChange} />\r\n                        </div>\r\n                        <div style={{ marginTop: \"24px\" }}>\r\n                            <h3><b>邮箱地址</b></h3>\r\n                            <Input placeholder=\"请输入邮箱\" value={this.state.email} name=\"email\" onChange={this.onChange} />\r\n                        </div>\r\n                        <Button style={{ marginTop: \"24px\" }} onClick={this.userMessageClick} disabled={this.state.isUserMessageLoading}>提交</Button>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"24px\", backgroundColor: \"#EEEEF2\", padding: \"24px\" }}>\r\n                        <h1 style={{ marginBottom: \"24px\" }}>修改个人头像</h1>\r\n                        <hr></hr>\r\n                        <div style={{ marginTop: \"24px\" }}>\r\n                            <h3><b>用户头像</b></h3>\r\n                            <div style={{ width: \"330px\" }}>\r\n                                <UploadPicture getUrl={this.getUrl.bind(this)} type={this.state.type} width={this.state.width} height={this.state.height} uploadTitle={this.state.uploadTitle} uploadContent={this.state.uploadContent} url={this.state.avatar}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"24px\", backgroundColor: \"#EEEEF2\", padding: \"24px\" }}>\r\n                        <h1 style={{ marginBottom: \"24px\" }}>修改密码</h1>\r\n                        <hr></hr>\r\n                        <div style={{ marginTop: \"15px\" }}>\r\n                            <h3><b>原密码</b></h3>\r\n                            <Input.Password placeholder=\"\" value={this.state.old_password} name=\"old_password\" onChange={this.onChange} />\r\n                        </div>\r\n                        <div style={{ marginTop: \"24px\" }}>\r\n                            <h3><b>新密码</b></h3>\r\n                            <Input.Password placeholder=\"\" value={this.state.password} name=\"password\" onChange={this.onChange} />\r\n                        </div>\r\n                        <div style={{ marginTop: \"24px\" }}>\r\n                            <h3><b>重复新密码</b></h3>\r\n                            <Input.Password placeholder=\"\" value={this.state.repeat_password} name=\"repeat_password\" onChange={this.onChange} />\r\n                        </div>\r\n                        <Button style={{ marginTop: \"24px\" }} onClick={this.passwordClick} disabled={this.state.isPasswordLoading}>提交</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userState: state.login,\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(Edit))","import { store } from '../const/store';\r\nimport Axios from './axios';\r\nimport { setConfig } from '../actions/configActions';\r\n\r\nexport default function getConfigration() {\r\n    const config = {\r\n        menu : []\r\n    }\r\n    Axios.get(\"/config\").then((res) => {\r\n        config.menu = res.data.content\r\n        store.dispatch(setConfig(config))\r\n    }).catch(error => {\r\n        console.log(error);\r\n    })\r\n}","import { SET_CONFIG } from \"../const\"\r\n\r\nexport const setConfig= (config) => {\r\n    return {\r\n        type: SET_CONFIG,\r\n        config\r\n    }\r\n}","import { SET_GLOBAL_CONFIG } from \"../const\";\r\n\r\nexport const setGlobalConfig = (globalConfig) =>{\r\n    return {\r\n        type: SET_GLOBAL_CONFIG,\r\n        globalConfig\r\n    }\r\n}","import { store } from '../const/store';\r\nimport Axios from './axios';\r\nimport { setGlobalConfig } from '../actions/globalConfigActions';\r\n\r\nexport default function getGlobalConfig() {\r\n    const globalConfig = {\r\n        menu : []\r\n    }\r\n    Axios.get(\"/systemconfig\").then((res) => {\r\n        globalConfig.menu = res.data.content\r\n        store.dispatch(setGlobalConfig(globalConfig))\r\n    }).catch(error => {\r\n        console.log(error);\r\n    })\r\n}","import styled from \"styled-components\";\r\nexport const TagWrapper = styled.div`\r\n.circle{\r\n    height: 200px;\r\n    overflow:hidden;\r\n}\r\n  .circle-shadow {\r\n    margin: auto;\r\n    width: ${(document.documentElement.clientWidth - 250) * 0.9 + \"px\"};\r\n    height: ${(document.documentElement.clientWidth - 250) * 0.9 + \"px\"};\r\n    margin-top: ${-(document.documentElement.clientWidth - 250) * 0.4 + \"px\"};\r\n    border-radius: 50%;\r\n    border: 200px solid;\r\n    /*background-clip: padding-box;*/\r\n  }\r\n  .tagName{\r\n      z-index:999;\r\n  }\r\n  .container{\r\n    text-align:center;\r\n    height:200px;\r\n    line-height:200px;\r\n    font-size:50px;\r\n    font-weight:900;\r\n    color:white;\r\n  }\r\n`","import React from \"react\";\r\nimport Axios from \"../../utils/axios\";\r\nimport { message } from \"antd\";\r\nimport Card_list from \"../../components/card_list\";\r\nimport { Pagination } from \"antd\";\r\nimport { INDEX_PAGE_SIZE } from \"../../config/config\";\r\nimport { HomeWrapper } from \"../home/style\";\r\nimport { TagWrapper } from \"./style\";\r\nimport { PageHeader } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { store } from \"../../const/store\";\r\n\r\nfunction getRandomColor() {\r\n    let r = Math.floor(Math.random() * 192);\r\n    let g = Math.floor(Math.random() * 192);\r\n    let b = Math.floor(Math.random() * 192);\r\n    let r16 = r.toString(16).length === 1 && r.toString(16) <= \"f\" ? 0 + r.toString(16) : r.toString(16);\r\n    let g16 = g.toString(16).length === 1 && g.toString(16) <= \"f\" ? 0 + g.toString(16) : g.toString(16);\r\n    let b16 = b.toString(16).length === 1 && b.toString(16) <= \"f\" ? 0 + b.toString(16) : b.toString(16);\r\n    let color = '#' + r16 + g16 + b16;\r\n    return color;\r\n}\r\n\r\nclass TagPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tagName: \"\",\r\n            data: [],\r\n            pages: 0,\r\n            platform_address:\"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        store.subscribe(() => {\r\n            if (store.getState().globalConfig.globalConfig) {\r\n                let menu = store.getState().globalConfig.globalConfig.menu;\r\n                this.setState({ platform_address: menu.platform_address })\r\n            }\r\n        })\r\n        Axios.get(this.props.location.pathname)\r\n            .then(res => {\r\n                if (res.data.code === 200) {\r\n                    console.log(res.data.content);\r\n                    this.setState({ tagName: res.data.content.tag.name })\r\n                    this.setState({ data: res.data.content.page.records })\r\n                    this.setState({ total: res.data.content.page.total })\r\n                } else {\r\n                    message.error(res.data.message);\r\n                    window.location.href = this.state.platform_address;\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <TagWrapper>\r\n                    <div>\r\n                        <div className=\"circle\" style={{backgroundColor:getRandomColor()}}>\r\n                            <p className=\"container\">\r\n                                {this.state.tagName}\r\n                            </p>\r\n                            <div className=\"circle-shadow\" style={{borderColor:getRandomColor(),backgroundColor:getRandomColor()}}></div>\r\n                        </div>\r\n                    </div>\r\n                </TagWrapper>\r\n                <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => {window.history.back(-1)}}\r\n                        title= {this.state.tagName}\r\n                    />\r\n                <Card_list data={this.state.data} />\r\n                <HomeWrapper>\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(this.props.location.pathname, {\r\n                                params: {\r\n                                    pageNo: pageNumber\r\n                                }\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={INDEX_PAGE_SIZE} />\r\n                    </div>\r\n                </HomeWrapper>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(TagPage);","import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { message, Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { PageHeader } from 'antd';\r\nimport { MY_ARTICLE_PAGE_SIZE} from '../../config/config';\r\nimport { store } from '../../const/store';\r\n\r\nclass User extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(this.props.location.pathname)\r\n            .then(res => {\r\n                //console.log(\"res \", res.data)\r\n                if (res.data.code === 200) {\r\n                    this.setState({ data: res.data.content.article.records })\r\n                    this.setState({ total: res.data.content.article.total })\r\n                    this.setState({ name: res.data.content.user.username })\r\n                } else {\r\n                    message.error(res.data.messgae)\r\n                    window.location.href = this.props.globalConfig.menu.platform_address\r\n                }\r\n            })\r\n            .catch(error => { console.log(error); })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => { window.history.back(-1) }}\r\n                        title={this.state.name + \"发表的文章\"}\r\n                    />,\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(\"this.props.location.pathname\", {\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.article.records })\r\n                                    this.setState({ total: res.data.content.article.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={MY_ARTICLE_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        globalConfig: state.globalConfig.globalConfig\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(User));","import React from 'react'\r\nimport Axios from \"../../utils/axios\";\r\nimport { message, Pagination, List, Avatar } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { PageHeader } from 'antd';\r\nimport { MY_ARTICLE_PAGE_SIZE } from '../../config/config';\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nclass MyMessage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"/notification/list\")\r\n            .then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.setState({ data: res.data.content.records })\r\n                    this.setState({ total: res.data.content.total })\r\n                } else {\r\n                    message.error(res.data.messgae)\r\n                    window.location.href = \"/\"\r\n                }\r\n            })\r\n            .catch(error => { console.log(error); })\r\n    }\r\n\r\n    generateNotificationContent(content, article_id, type, username, title) {\r\n        let action = \"\";\r\n        switch (type) {\r\n            case \"broadcast\":\r\n                return <p>管理员发送了全站广播说：{content} </p>\r\n            case \"COMMENT\":\r\n                action = \"评论\";\r\n                break;\r\n            case \"COLLECT\":\r\n                action = \"收藏\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return <p>{username}  {action}了你的文章  <Link to={\"/article/\" + article_id}>{title}</Link>  {content ? <span>说：{content}</span> : null}</p>\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.userState.isAuth) {\r\n            message.error(\"请先登录!\")\r\n            window.location.href = \"/\"\r\n        }\r\n        console.log(this.state.data);\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => { window.history.back(-1) }}\r\n                        title=\"我的消息\"\r\n                    />,\r\n                    <List\r\n                        style={{ width: \"50%\", margin: \"0 auto\" }}\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={this.state.data}\r\n                        renderItem={item => (\r\n                            <List.Item onMouseDown={() => {\r\n                                Axios.get(\"/notification/mark\")\r\n                                    .catch(error => { console.log(error); })\r\n                            }}>\r\n                                <List.Item.Meta\r\n                                    avatar={<Link to={{ pathname: `/user/` + item.user_id }}> {item.avatar ? <Avatar src={item.avatar} /> : null}</Link>}\r\n                                    title={<Link to={{ pathname: `/user/` + item.user_id }}>{item.username}</Link>}\r\n                                    description={this.generateNotificationContent(item.content, item.article_id, item.ACTION, item.username, item.title)}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(\"/notification/list/\" + this.props.userState.user.id, {\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={MY_ARTICLE_PAGE_SIZE} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(MyMessage));","import 'antd/dist/antd.css'\r\nimport React from 'react';\r\n\r\nimport Side_bar from \"./components/side_bar\";\r\nimport Article from './pages/article';\r\nimport Home from './pages/home';\r\nimport Header from './components/header';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Content from './pages/content';\r\nimport SearchPage from './pages/searchPage';\r\nimport SignupPage from './pages/signUpPage';\r\nimport FlashMessageList from './components/flash/flashMessageList';\r\nimport LoginPage from './pages/loginPage';\r\nimport authByLocalStorageToken from './utils/authByLocalStorageToken';\r\nimport MyArticle from './pages/myArticle';\r\nimport MyCollect from './pages/myCollect';\r\nimport Create from './pages/create';\r\nimport edit from './pages/edit';\r\nimport getConfigration from './utils/getConfig';\r\nimport getGlobalConfig from './utils/getGlobalConfig';\r\nimport TagPage from './pages/tagPage';\r\nimport User from './pages/user';\r\nimport myMessage from './pages/myMessage';\r\n\r\nconst mainStyle = {\r\n  margin: '0 0 0 250px',\r\n  display: 'block',\r\n  background: '#fff',\r\n};\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      menuData: []\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    getGlobalConfig();\r\n    getConfigration();\r\n    authByLocalStorageToken();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Side_bar />\r\n          <Header />\r\n          <FlashMessageList />\r\n          <div style={mainStyle}>\r\n            <Route exact path=\"/\" component={Home}></Route>\r\n            <Route path=\"/home\" component={Home}></Route>\r\n            <Route path=\"/articleList\" component={Article}></Route>\r\n            <Route path=\"/article/*\" component={Content}></Route>\r\n            <Route path=\"/searchPage\" component={SearchPage}></Route>\r\n            <Route path=\"/signup\" component={SignupPage}></Route>\r\n            <Route path=\"/login\" component={LoginPage}></Route>\r\n            <Route path=\"/myArticle\" component={MyArticle}></Route>\r\n            <Route path=\"/myCollect\" component={MyCollect}></Route>\r\n            <Route path=\"/myMessage\" component={myMessage}></Route>\r\n            <Route path=\"/create\" component={Create}></Route>\r\n            <Route path=\"/edit\" component={edit}></Route>\r\n            <Route path=\"/tag/*\" component={TagPage}></Route>\r\n            <Route path=\"/user/*\" component={User}></Route>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n};\r\n\r\nexport default App;\r\n","import setHeaderToken from '../utils/setHeaderToken';\r\nimport { setCurrentUser } from '../actions/authActions';\r\nimport { store } from '../const/store';\r\nimport Axios from './axios';\r\nimport { LocalStorageTokenName } from '../config/config';\r\n\r\nexport default function authByLocalStorageToken() {\r\n    const user = {\r\n        username: \"\",\r\n        id : \"\",\r\n        avatar : \"\",\r\n    }\r\n    if (localStorage.BBSToken) {\r\n        Axios.post(\"/token\", localStorage.BBSToken).then((res) => {\r\n            const token = res.data.content.token;\r\n            localStorage.setItem(LocalStorageTokenName, token);\r\n            setHeaderToken(token);\r\n            user.username = res.data.content.user.username\r\n            user.id = res.data.content.user.id\r\n            user.avatar = res.data.content.user.avatar\r\n            store.dispatch(setCurrentUser(user))\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    } else {\r\n        store.dispatch(setCurrentUser(user))\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\"\r\nimport { store } from './const/store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}