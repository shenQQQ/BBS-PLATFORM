[{"D:\\ReactDemo\\bbs-platform\\src\\index.js":"1","D:\\ReactDemo\\bbs-platform\\src\\App.js":"2","D:\\ReactDemo\\bbs-platform\\src\\components\\side_bar\\index.js":"3","D:\\ReactDemo\\bbs-platform\\src\\components\\side_bar\\style.js":"4","D:\\ReactDemo\\bbs-platform\\src\\pages\\home\\index.js":"5","D:\\ReactDemo\\bbs-platform\\src\\pages\\home\\style.js":"6","D:\\ReactDemo\\bbs-platform\\src\\components\\header\\index.js":"7","D:\\ReactDemo\\bbs-platform\\src\\components\\header\\style.js":"8","D:\\ReactDemo\\bbs-platform\\src\\components\\recommend_block\\index.js":"9","D:\\ReactDemo\\bbs-platform\\src\\components\\recommend_block\\style.js":"10","D:\\ReactDemo\\bbs-platform\\src\\components\\card_list\\index.js":"11","D:\\ReactDemo\\bbs-platform\\src\\components\\card_list\\style.js":"12","D:\\ReactDemo\\bbs-platform\\src\\pages\\article\\index.js":"13","D:\\ReactDemo\\bbs-platform\\src\\pages\\content\\index.js":"14","D:\\ReactDemo\\bbs-platform\\src\\pages\\content\\style.js":"15","D:\\ReactDemo\\bbs-platform\\src\\pages\\searchPage\\index.js":"16","D:\\ReactDemo\\bbs-platform\\src\\pages\\searchPage\\style.js":"17","D:\\ReactDemo\\bbs-platform\\src\\reducers\\index.js":"18","D:\\ReactDemo\\bbs-platform\\src\\reducers\\auth.js":"19","D:\\ReactDemo\\bbs-platform\\src\\pages\\signUpPage\\index.js":"20","D:\\ReactDemo\\bbs-platform\\src\\components\\signUpForm\\index.js":"21","D:\\ReactDemo\\bbs-platform\\src\\actions\\signupActions.js":"22","D:\\ReactDemo\\bbs-platform\\src\\components\\flash\\flashMessageList\\index.js":"23","D:\\ReactDemo\\bbs-platform\\src\\components\\flash\\flashMessageList\\style.js":"24","D:\\ReactDemo\\bbs-platform\\src\\reducers\\flashMessage.js":"25","D:\\ReactDemo\\bbs-platform\\src\\const\\index.js":"26","D:\\ReactDemo\\bbs-platform\\src\\actions\\flashMessageActions.js":"27","D:\\ReactDemo\\bbs-platform\\src\\pages\\loginPage\\index.js":"28","D:\\ReactDemo\\bbs-platform\\src\\components\\loginForm\\index.js":"29","D:\\ReactDemo\\bbs-platform\\src\\actions\\authActions.js":"30","D:\\ReactDemo\\bbs-platform\\src\\utils\\setHeaderToken.js":"31","D:\\ReactDemo\\bbs-platform\\src\\const\\store.js":"32","D:\\ReactDemo\\bbs-platform\\src\\utils\\authByLocalStorageToken.js":"33","D:\\ReactDemo\\bbs-platform\\src\\utils\\axios.js":"34","D:\\ReactDemo\\bbs-platform\\src\\utils\\getDateDiff.js":"35","D:\\ReactDemo\\bbs-platform\\src\\pages\\myArticle\\index.js":"36","D:\\ReactDemo\\bbs-platform\\src\\pages\\myCollect\\index.js":"37","D:\\ReactDemo\\bbs-platform\\src\\pages\\contribution\\index.js":"38","D:\\ReactDemo\\bbs-platform\\src\\components\\uploadPicture\\index.js":"39","D:\\ReactDemo\\bbs-platform\\src\\components\\uploadPicture\\ImageClip.js":"40"},{"size":275,"mtime":1648533233512,"results":"41","hashOfConfig":"42"},{"size":1826,"mtime":1648816117538,"results":"43","hashOfConfig":"42"},{"size":1303,"mtime":1647141235871,"results":"44","hashOfConfig":"42"},{"size":1016,"mtime":1646365381480,"results":"45","hashOfConfig":"42"},{"size":1942,"mtime":1648546696894,"results":"46","hashOfConfig":"42"},{"size":273,"mtime":1646637849869,"results":"47","hashOfConfig":"42"},{"size":3376,"mtime":1648953271458,"results":"48","hashOfConfig":"42"},{"size":300,"mtime":1648545795192,"results":"49","hashOfConfig":"42"},{"size":1998,"mtime":1646794276162,"results":"50","hashOfConfig":"42"},{"size":513,"mtime":1646377186135,"results":"51","hashOfConfig":"42"},{"size":2154,"mtime":1648548373498,"results":"52","hashOfConfig":"42"},{"size":307,"mtime":1646539550491,"results":"53","hashOfConfig":"42"},{"size":216,"mtime":1646624072917,"results":"54","hashOfConfig":"42"},{"size":4037,"mtime":1648715781737,"results":"55","hashOfConfig":"42"},{"size":906,"mtime":1646891926396,"results":"56","hashOfConfig":"42"},{"size":2389,"mtime":1648546809743,"results":"57","hashOfConfig":"42"},{"size":0,"mtime":1646989136346,"results":"58","hashOfConfig":"42"},{"size":218,"mtime":1647424739134,"results":"59","hashOfConfig":"42"},{"size":509,"mtime":1648532805171,"results":"60","hashOfConfig":"42"},{"size":803,"mtime":1647331239884,"results":"61","hashOfConfig":"42"},{"size":2778,"mtime":1648548223604,"results":"62","hashOfConfig":"42"},{"size":171,"mtime":1648545006722,"results":"63","hashOfConfig":"42"},{"size":833,"mtime":1648545246805,"results":"64","hashOfConfig":"42"},{"size":137,"mtime":1647328641528,"results":"65","hashOfConfig":"42"},{"size":539,"mtime":1647329949480,"results":"66","hashOfConfig":"42"},{"size":166,"mtime":1647423573123,"results":"67","hashOfConfig":"42"},{"size":340,"mtime":1647329317158,"results":"68","hashOfConfig":"42"},{"size":312,"mtime":1647417782822,"results":"69","hashOfConfig":"42"},{"size":3199,"mtime":1648548209814,"results":"70","hashOfConfig":"42"},{"size":623,"mtime":1648550218712,"results":"71","hashOfConfig":"42"},{"size":294,"mtime":1648710813834,"results":"72","hashOfConfig":"42"},{"size":368,"mtime":1648532734222,"results":"73","hashOfConfig":"42"},{"size":971,"mtime":1648548477698,"results":"74","hashOfConfig":"42"},{"size":613,"mtime":1648548295942,"results":"75","hashOfConfig":"42"},{"size":1138,"mtime":1648545140431,"results":"76","hashOfConfig":"42"},{"size":2548,"mtime":1648954798992,"results":"77","hashOfConfig":"42"},{"size":2554,"mtime":1648816360176,"results":"78","hashOfConfig":"42"},{"size":7484,"mtime":1648810238939,"results":"79","hashOfConfig":"42"},{"size":2048,"mtime":1648806996917,"results":"80","hashOfConfig":"42"},{"size":8386,"mtime":1648809929185,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"rmn691",{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"84"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"84"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"84"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"84"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"84"},{"filePath":"120","messages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"84"},{"filePath":"127","messages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"129","messages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"131","messages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"135","messages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"84"},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"142","messages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"144","messages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"146","messages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"148","messages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"150","messages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"84"},{"filePath":"153","messages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"155","messages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"157","messages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"159","messages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"84"},{"filePath":"162","messages":"163","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"164","messages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166","usedDeprecatedRules":"84"},{"filePath":"167","messages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"84"},{"filePath":"170","messages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"84"},{"filePath":"173","messages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"175","usedDeprecatedRules":"84"},"D:\\ReactDemo\\bbs-platform\\src\\index.js",[],["176","177"],"D:\\ReactDemo\\bbs-platform\\src\\App.js",["178"],"import 'antd/dist/antd.css'\nimport React from 'react';\n\nimport Side_bar from \"./components/side_bar\";\nimport Article from './pages/article';\nimport Home from './pages/home';\nimport Header from './components/header';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Content from './pages/content';\nimport SearchPage from './pages/searchPage';\nimport SignupPage from './pages/signUpPage';\nimport FlashMessageList from './components/flash/flashMessageList';\nimport LoginPage from './pages/loginPage';\nimport authByLocalStorageToken from './utils/authByLocalStorageToken';\nimport MyArticle from './pages/myArticle';\nimport MyCollect from './pages/myCollect';\nimport Contribution from './pages/contribution';\n\nconst mainStyle = {\n  margin: '0 0 0 250px',\n  display: 'block',\n  background: '#fff',\n};\n\nclass App extends React.Component {\n  componentDidMount() {\n    authByLocalStorageToken();\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <Side_bar />\n          <Header />\n          <FlashMessageList />\n          <div style={mainStyle}>\n            <Route exact path=\"/\" component={Home}></Route>\n            <Route path=\"/home\" component={Home}></Route>\n            <Route path=\"/articleList\" component={Article}></Route>\n            <Route path=\"/article/*\" component={Content}></Route>\n            <Route path=\"/searchPage\" component={SearchPage}></Route>\n            <Route path=\"/signup\" component={SignupPage}></Route>\n            <Route path=\"/login\" component={LoginPage}></Route>\n            <Route path=\"/myArticle\" component={MyArticle}></Route>\n            <Route path=\"/myCollect\" component={MyCollect}></Route>\n            <Route path=\"/contribution\" component={Contribution}></Route>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n};\n\nexport default App;\n","D:\\ReactDemo\\bbs-platform\\src\\components\\side_bar\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\side_bar\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\pages\\home\\index.js",["179"],"import React from 'react'\r\nimport { HomeWrapper } from './style';\r\nimport RecommendBlock from '../../components/recommend_block';\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from '../../utils/axios';\r\nimport { Pagination } from 'antd';\r\n\r\nclass Home extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            pages: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get()\r\n            .then(res => {\r\n                this.setState({ data: res.data.content.records })\r\n                this.setState({ total: res.data.content.total })\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <RecommendBlock />\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get('/article/index',{\r\n                                params:{\r\n                                    pageNo: pageNumber\r\n                                }\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={15} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nexport default Home;","D:\\ReactDemo\\bbs-platform\\src\\pages\\home\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\header\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\header\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\recommend_block\\index.js",["180","181","182","183","184"],"import React from \"react\";\r\nimport { RecommendBlockWrapper } from \"./style\";\r\nimport 'antd/dist/antd.css';\r\nimport { Carousel } from 'antd';\r\n\r\nconst contentStyle = {\r\n    height: document.body.clientWidth * 0.377 * 0.75,\r\n    color: '#fff',\r\n    lineHeight: '160px',\r\n    textAlign: 'center',\r\n    background: '#364d79',\r\n};\r\n\r\nconst RecommendBlock = () => {\r\n\r\n    return (\r\n        <RecommendBlockWrapper>\r\n            <div className=\"pageContainer\">\r\n                <div className=\"head_picture\">\r\n                    <Carousel autoplay>\r\n                        <div>\r\n                            <img src=\"https://image.gcores.com/961c1602-f178-43cb-b231-ebb7d693c6c8.png?x-oss-process=image/resize,limit_1,m_fill,w_938,h_525/quality,q_90\" style={contentStyle} />\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"https://image.gcores.com/6e9d3bc7-bd93-4f34-bdb0-bc76901b1b6e.jpg?x-oss-process=image/resize,limit_1,m_fill,w_938,h_525/quality,q_90\" style={contentStyle} />\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"https://image.gcores.com/61868533-e76c-4fa2-9562-1555e5683709.png?x-oss-process=image/resize,limit_1,m_fill,w_938,h_525/quality,q_90\" style={contentStyle} />\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"https://image.gcores.com/5a1ceed7-75ae-42c3-8c17-e6db8b14b3df.jpg?x-oss-process=image/resize,limit_1,m_fill,w_938,h_525/quality,q_90\" style={contentStyle} />\r\n                        </div>\r\n                    </Carousel>\r\n                </div>\r\n                <div className=\"suggest_list\">\r\n                    <img src=\"https://image.gcores.com/3aa067dc-e46a-45d9-be6b-f48785632155.jpg?x-oss-process=image/resize,limit_1,m_fill,w_328,h_395/quality,q_90\" style={contentStyle} />\r\n                </div>\r\n            </div>\r\n        </RecommendBlockWrapper>\r\n    )\r\n};\r\n\r\nexport default RecommendBlock","D:\\ReactDemo\\bbs-platform\\src\\components\\recommend_block\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\card_list\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\card_list\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\pages\\article\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\pages\\content\\index.js",["185","186"],"import React from 'react'\r\nimport Axios from \"../../utils/axios\"\r\nimport ReactMarkdown from 'react-markdown'\r\nimport remarkGfm from 'remark-gfm'\r\nimport { Image } from 'antd';\r\nimport { ContentWrapper } from './style';\r\nimport { Avatar } from 'antd';\r\nimport { StarOutlined } from '@ant-design/icons';\r\nimport { Button } from 'antd';\r\nimport { Comment, List } from 'antd';\r\nimport getDateDiff from \"../../utils/getDateDiff\"\r\n\r\nclass Content extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        //console.log(props.location.state.id);\r\n        this.state = {\r\n            comment: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(this.props.location.pathname)\r\n            .then(res => {\r\n                //console.log(res.data.content.comments)\r\n                this.setState({ id: res.data.content.id })\r\n                this.setState({ content: res.data.content.content })\r\n                this.setState({ head_img: res.data.content.headImg })\r\n                this.setState({ title: res.data.content.title })\r\n                this.setState({ avatar: res.data.content.avatar })\r\n                this.setState({ inTime: res.data.content.inTime })\r\n                this.setState({ commentCount: res.data.content.commentCount })\r\n                this.setState({ collectCount: res.data.content.collectCount })\r\n                this.setState({ view: res.data.content.view })\r\n                this.setState({ username: res.data.content.username })\r\n                this.setState({ comment: res.data.content.comments })\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ContentWrapper>\r\n                <div className='article_head'>\r\n                    <div className='article_title'>\r\n                        <h1>{this.state.title}</h1>\r\n\r\n                        <div className='description'>\r\n                            <Avatar src={this.state.avatar} />\r\n\r\n                            <div className='text'>\r\n                                <span>{this.state.username}</span>\r\n                                <br />\r\n                                <small>{getDateDiff(this.state.inTime)}</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div >\r\n                        <Image className=\"title_img\" src={this.state.head_img} />\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className='content'>\r\n\r\n                    <div className='statement'>\r\n                        <p><small>本文系发布者投稿，文章内容不代表本站观点</small></p>\r\n                    </div>\r\n                    {/* <ReactMarkdown children={this.state.content} remarkPlugins={[remarkGfm]} /> */}\r\n                    <div dangerouslySetInnerHTML={{ __html:this.state.content }} />\r\n                    <Button icon={<StarOutlined />} >&nbsp;&nbsp;{this.state.collectCount}&nbsp;&nbsp;</Button>\r\n                    <br />\r\n                    <hr />\r\n                </div>\r\n\r\n                <div className='comment'>\r\n                    <List\r\n                        className=\"comment-list\"\r\n                        header={`${this.state.comment.length} 条回复`}\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={this.state.comment}\r\n                        renderItem={item => (\r\n                            <li>\r\n                                <Comment\r\n                                    author={item.username}\r\n                                    avatar={item.avatar}\r\n                                    content={item.content}\r\n                                    datetime={getDateDiff(item.inTime)}\r\n                                />\r\n                            </li>\r\n                        )}\r\n                    />\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n}\r\nexport default Content;","D:\\ReactDemo\\bbs-platform\\src\\pages\\content\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\pages\\searchPage\\index.js",["187","188","189"],"import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\n\r\nfunction getUrlParam(name) {\r\n    var url = window.location.search; //获取url中\"?\"符后的字串   \r\n    var theRequest = new Object();\r\n    if (url.indexOf(\"?\") != -1) {\r\n        var str = url.substr(1);\r\n        var strs = str.split(\"&\");\r\n        for (var i = 0; i < strs.length; i++) {\r\n            theRequest[strs[i].split(\"=\")[0]] = decodeURI(strs[i].split(\"=\")[1]);\r\n        }\r\n    }\r\n    return theRequest[name];\r\n}\r\nclass SearchPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(getUrlParam(\"keywords\"));\r\n        Axios.post('/article/search', {\r\n            keyword: getUrlParam(\"keywords\")\r\n        })\r\n            .then(res => {\r\n                this.setState({ data: res.data.content.records })\r\n                this.setState({ total: res.data.content.total })\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.post('/article/search', {\r\n                                keyword: getUrlParam(\"keywords\"),\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={15} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nexport default SearchPage;","D:\\ReactDemo\\bbs-platform\\src\\pages\\searchPage\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\reducers\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\reducers\\auth.js",["190"],"import { SET_CURRENT_USER } from \"../const\";\r\nimport isEmpty from \"lodash/isEmpty\"\r\n\r\nconst initialState = {\r\n    user : {},\r\n    isAuth : false\r\n}\r\n\r\nconst login = (state = {},action) =>{\r\n    //console.log(\"auth中的action值 \", action.user)\r\n    switch(action.type){\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                user: action.user,\r\n                isAuth: !isEmpty(action.user.username)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default login;","D:\\ReactDemo\\bbs-platform\\src\\pages\\signUpPage\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\signUpForm\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\actions\\signupActions.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\flash\\flashMessageList\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\flash\\flashMessageList\\style.js",[],"D:\\ReactDemo\\bbs-platform\\src\\reducers\\flashMessage.js",["191"],"import { ADD_FLASH_MESSAGE, DELETE_FLASH_MESSAGE } from \"../const\";\r\nimport shortid from \"shortid\"\r\n\r\n\r\nconst flashMessage = (state = [], action) => {\r\n    switch (action.type) {\r\n        case ADD_FLASH_MESSAGE:\r\n            return [\r\n                ...state,\r\n                {\r\n                    id: shortid.generate(),\r\n                    type: action.message.type,\r\n                    text: action.message.text\r\n                }\r\n            ]\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default flashMessage","D:\\ReactDemo\\bbs-platform\\src\\const\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\actions\\flashMessageActions.js",[],"D:\\ReactDemo\\bbs-platform\\src\\pages\\loginPage\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\components\\loginForm\\index.js",[],"D:\\ReactDemo\\bbs-platform\\src\\actions\\authActions.js",[],"D:\\ReactDemo\\bbs-platform\\src\\utils\\setHeaderToken.js",["192"],"import axios from \"axios\";\r\nimport Axios from \"./axios\";\r\n\r\nconst setHeaderToken = (token) =>{\r\n    if(token){\r\n        Axios.defaults.headers.common['Authorization'] = token;\r\n    }else{\r\n        delete Axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setHeaderToken","D:\\ReactDemo\\bbs-platform\\src\\const\\store.js",[],"D:\\ReactDemo\\bbs-platform\\src\\utils\\authByLocalStorageToken.js",[],"D:\\ReactDemo\\bbs-platform\\src\\utils\\axios.js",[],"D:\\ReactDemo\\bbs-platform\\src\\utils\\getDateDiff.js",["193"],"export default function getDateDiff(dateTimeStamp) {\r\n    var result;\r\n    var minute = 1000 * 60;\r\n    var hour = minute * 60;\r\n    var day = hour * 24;\r\n    var halfamonth = day * 15;\r\n    var month = day * 30;\r\n    var now = new Date().getTime();\r\n    var diffValue = now - dateTimeStamp;\r\n    if (diffValue < 0) {\r\n        return;\r\n    }\r\n    var monthC = diffValue / month;\r\n    var weekC = diffValue / (7 * day);\r\n    var dayC = diffValue / day;\r\n    var hourC = diffValue / hour;\r\n    var minC = diffValue / minute;\r\n    if (monthC >= 1) {\r\n        if (monthC <= 12)\r\n            result = \"\" + parseInt(monthC) + \"月前\";\r\n        else {\r\n            result = \"\" + parseInt(monthC / 12) + \"年前\";\r\n        }\r\n    }\r\n    else if (weekC >= 1) {\r\n        result = \"\" + parseInt(weekC) + \"周前\";\r\n    }\r\n    else if (dayC >= 1) {\r\n        result = \"\" + parseInt(dayC) + \"天前\";\r\n    }\r\n    else if (hourC >= 1) {\r\n        result = \"\" + parseInt(hourC) + \"小时前\";\r\n    }\r\n    else if (minC >= 1) {\r\n        result = \"\" + parseInt(minC) + \"分钟前\";\r\n    } else {\r\n        result = \"刚刚\";\r\n    }\r\n    return result;\r\n};\r\n","D:\\ReactDemo\\bbs-platform\\src\\pages\\myArticle\\index.js",["194"],"D:\\ReactDemo\\bbs-platform\\src\\pages\\myCollect\\index.js",["195"],"import React from 'react'\r\nimport Card_list from '../../components/card_list';\r\nimport Axios from \"../../utils/axios\";\r\nimport { message, Pagination } from 'antd';\r\nimport { HomeWrapper } from '../home/style';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { PageHeader } from 'antd';\r\n\r\nclass MyCollect extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: [],\r\n            pages: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get(\"/article/collect/\" + this.props.userState.user.id)\r\n            .then(res => {\r\n                console.log(\"res \", res.data)\r\n                this.setState({ data: res.data.content.records })\r\n                this.setState({ total: res.data.content.total })\r\n            })\r\n            .catch(error => { console.log(error); })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.userState.isAuth) {\r\n            message.error(\"请先登录!\")\r\n            window.location.href = \"http://localhost:3000\"\r\n        }\r\n        return (\r\n            <HomeWrapper>\r\n                <div className='main'>\r\n                    <PageHeader\r\n                        className=\"site-page-header\"\r\n                        onBack={() => {window.history.back(-1)}}\r\n                        title=\"收藏的文章\"\r\n                    />,\r\n                    <Card_list data={this.state.data} />\r\n                    <div className='pagination'>\r\n                        <Pagination showQuickJumper defaultCurrent={1} total={this.state.total} onChange={(pageNumber) => {\r\n                            Axios.get(\"/article/collect/\" + this.props.userState.user.id, {\r\n                                pageNo: pageNumber\r\n                            })\r\n                                .then(res => {\r\n                                    this.setState({ data: res.data.content.records })\r\n                                    this.setState({ total: res.data.content.total })\r\n                                })\r\n                                .catch(error => {\r\n                                    console.log(error);\r\n                                });\r\n                        }} justify=\"center\" pageSize={15} />\r\n                    </div>\r\n                </div>\r\n            </HomeWrapper>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state \", state);\r\n    return {\r\n        userState: state.login\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps)(MyCollect));","D:\\ReactDemo\\bbs-platform\\src\\pages\\contribution\\index.js",["196","197","198","199","200","201"],"import { Upload, message, Button, Modal, Icon, uploading, Input } from 'antd';\r\nimport React from \"react\";\r\nimport E from 'wangeditor';\r\nimport Axios from \"../../utils/axios\"\r\nimport { ContentWrapper } from \"../content/style\";\r\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport UploadPicture from '../../components/uploadPicture';\r\n\r\nconst { Dragger } = Upload;\r\n\r\nfunction uploadImageWithProgress(files, cb) {\r\n    var fd = new FormData();\r\n    var type = \"topic\";\r\n    for (var i = 0; i < files.length; i++) {\r\n        fd.append(\"file\", files[i]);\r\n        console.log(files[i]);\r\n    }\r\n    fd.append(\"type\", type);\r\n    Axios.post(\"/upload/\", fd).then(\r\n        res => {\r\n            console.log(res.data);\r\n            if (res.data.code === 200) {\r\n                message.success(\"上传成功\");\r\n                cb(res.data);\r\n            } else {\r\n                // if (!data.detail) {\r\n                //     err(data.description)\r\n                // } else {\r\n                //     var error = \"\";\r\n                //     for (var k = 0; k < data.detail.errors.length; k++) {\r\n                //         error += data.detail.errors[k] + \"<br/>\";\r\n                //     }\r\n                //     err(error);\r\n                // }\r\n            }\r\n        }\r\n    ).catch(error => { console.log(\"axios error \", error); })\r\n}\r\nclass Contribution extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editorContent: '',\r\n            headImg: \"\",\r\n            title: \"\",\r\n            isLoading: false\r\n        };\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        const elemMenu = this.refs.editorElemMenu;\r\n        const elemBody = this.refs.editorElemBody;\r\n        const editor = new E(elemMenu, elemBody)\r\n        // 使用 onchange 函数监听内容的变化，并实时更新到 state 中\r\n        editor.config.onchange = html => {\r\n            console.log(editor.txt.html())\r\n            this.setState({\r\n                editorContent: editor.txt.html()\r\n            })\r\n            console.log(this.state.editorContent);\r\n        }\r\n        editor.config.menus = [\r\n            'head',  // 标题\r\n            'bold',  // 粗体\r\n            'italic',  // 斜体\r\n            'strikeThrough',  // 删除线\r\n            'link',  // 插入链接\r\n            'list',  // 列表\r\n            'justify',  // 对齐方式\r\n            'quote',  // 引用\r\n            'emoticon',  // 表情\r\n            'image',  // 插入图片\r\n            'table',  // 表格\r\n            'video',  // 插入视频\r\n            'code',  // 插入代码\r\n            'undo',  // 撤销\r\n            'redo'  // 重复\r\n        ]\r\n        //editor.config.uploadImgShowBase64 = true\r\n        editor.config.uploadImgServer = 'http://localhost:8080/upload';  // 上传图片到服务器\r\n        // 3M\r\n        editor.config.uploadImgMaxSize = 3 * 1024 * 1024;\r\n        // 限制一次最多上传 5 张图片\r\n        editor.config.uploadImgMaxLength = 5;\r\n        // 将 timeout 时间改为 3s\r\n        editor.config.uploadImgTimeout = 3000;\r\n        editor.config.customUploadImg = function (resultFiles, insertImgFn) {\r\n            // resultFiles 是 input 中选中的文件列表\r\n            // insertImgFn 是获取图片 url 后，插入到编辑器的方法\r\n            uploadImageWithProgress(resultFiles, function (data) {\r\n                for (var j = 0; j < data.content.urls.length; j++) {\r\n                    var url = data.content.urls[j];\r\n                    // 上传图片，返回结果，将图片插入到编辑器中\r\n                    insertImgFn(url);\r\n                }\r\n            });\r\n        }\r\n        editor.create()\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ContentWrapper>\r\n                <div className=\"content\" >\r\n                    <div className=\"head-img\">\r\n                        <UploadPicture getUrl={this.getUrl.bind(this)} />\r\n                    </div>\r\n                    <div style={{ marginTop: \"20px\", marginBottom: \"20px\" }}>\r\n                        <Input placeholder=\"请输入标题\" bordered={false} onChange={(e) => {\r\n                            this.setState({ title: e.target.value })\r\n                        }} size=\"large\" />\r\n                    </div>\r\n                    <div ref=\"editorElemMenu\"\r\n                        style={{ backgroundColor: '#f1f1f1', border: \"1px solid #ccc\" }}\r\n                        className=\"editorElem-menu\">\r\n\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            padding: \"0 10px\",\r\n                            border: \"0px solid #ccc\",\r\n                            borderTop: \"none\"\r\n                        }}\r\n                        ref=\"editorElemBody\" className=\"editorElem-body\">\r\n\r\n                    </div>\r\n                    <Button disabled={this.state.isLoading}\r\n                        onClick={() => {\r\n                            if (this.state.title === '') {\r\n                                message.error(\"请输入标题\");\r\n                                return;\r\n                            }\r\n                            if (this.state.headImg === '') {\r\n                                message.error(\"请上传头图\");\r\n                                return;\r\n                            }\r\n                            if (this.state.editorContent === '') {\r\n                                message.error(\"请输入正文\");\r\n                                return;\r\n                            }\r\n                            this.setState({\r\n                                isLoading: true\r\n                            });\r\n                            Axios.post(\"/article/save/\", {\r\n                                title: this.state.title,\r\n                                content: this.state.editorContent,\r\n                                headImg: this.state.headImg\r\n                            }).then(\r\n                                res => {\r\n                                    console.log(res.data);\r\n                                    if (res.data.code === 200) {\r\n                                        message.success(\"上传成功\");\r\n                                        this.props.history.replace(\"/\");\r\n                                    } else {\r\n                                        if (!res.data.content) {\r\n                                            message.error(res.data.message)\r\n                                        } else {\r\n                                            var error = \"\";\r\n                                            for (var k = 0; k < res.data.content.errors.length; k++) {\r\n                                                error += res.data.content.errors[k] + \"<br/>\";\r\n                                            }\r\n                                            message.error(error);\r\n                                        }\r\n                                    }\r\n                                    this.setState({isLoading: false })\r\n                                }\r\n                            ).catch(error => { console.log(\"axios error \", error); })\r\n                        }}> 上传文章 </Button>\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n\r\n    getUrl(url) {\r\n        this.setState({ headImg: url });\r\n        console.log(this.state.headImg)\r\n    }\r\n}\r\nexport default Contribution;","D:\\ReactDemo\\bbs-platform\\src\\components\\uploadPicture\\index.js",["202"],"import React from \"react\";\r\nimport ImageClip from \"./ImageClip\";\r\n\r\nclass UploadPicture extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            stage: 0,\r\n            //pic: '',\r\n            url: '',\r\n        }\r\n    }\r\n    render() {\r\n        let { stage, pic ,url} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"baseInfo\" style={{\r\n                    display: stage === 0 ? 'block' : 'none',\r\n                }}>\r\n                    <div className=\"imgBox\" onClick={() => {\r\n                        this.setState({ stage: 1 })\r\n                    }} style={{\r\n                        display: this.state.url === '' ? 'none' : 'block'\r\n                    }}>\r\n                        <img src={url} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"messageBox\" onClick={() => {\r\n                        this.setState({ stage: 1 })\r\n                    }} style={{\r\n                        display: this.state.url === '' ? 'block' : 'none',\r\n                        backgroundColor : \"#ccc\"\r\n                    }}>\r\n                        <br/>\r\n                        <p style={{ textAlign: \"center\"}}>选择文章头图</p>\r\n                        <p style={{ textAlign: \"center\"}}>请插入文件小于5M，格式为png,jpg,jpeg,gif的16:9图片</p>\r\n                        <br/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ImageClip\" style={{\r\n                    display: stage === 0 ? 'none' : 'block',\r\n                }}>\r\n                    \r\n                    <ImageClip change={this.change} back={this.back}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    change = (url) => {\r\n        this.setState({ stage: 0 })\r\n        //this.setState({ pic: imagedata })\r\n        this.setState({ url: url })\r\n        this.props.getUrl(url);\r\n        \r\n    }\r\n    back = () =>{\r\n        this.setState({ stage: 0 })\r\n    }\r\n}\r\nexport default UploadPicture;","D:\\ReactDemo\\bbs-platform\\src\\components\\uploadPicture\\ImageClip.js",["203"],"import { AutoComplete } from \"antd\";\r\nimport React from \"react\";\r\nimport Axios from \"../../utils/axios\";\r\nimport { message } from \"antd\";\r\n\r\nclass ImageClip extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let winW = document.documentElement.clientWidth;\r\n        let W = (winW - 250) * 0.5,\r\n            H = W * 9 / 16,\r\n            MW = W * 0.9,\r\n            MH = MW * 9 / 16,\r\n            ML = (W - MW) / 2,\r\n            MT = (H - MH) / 2;\r\n\r\n        this.state = {\r\n            W, H, MW, MH, ML, MT,\r\n            S: false,\r\n            MouseDown: false,\r\n            url:\"\",\r\n        }\r\n    }\r\n    render() {\r\n        let { W, H, MW, MH, MT, ML, S } = this.state\r\n        return (\r\n            <div className='clipImageBox' style={{\r\n                position: \"relative\"\r\n            }}>\r\n                <div className='canvasBoxDiv'\r\n                    onMouseDown={\r\n                        ev => {\r\n                            //let point = ev.changedTouches[0];\r\n                            this.startX = ev.clientX;\r\n                            this.startY = ev.clientY;\r\n                            this.setState({ MouseDown: true });\r\n                        }\r\n                    }\r\n                    onMouseMove={\r\n                        ev => {\r\n                            if (this.state.MouseDown) {\r\n                                let changeX = ev.clientX - this.startX;\r\n                                let changeY = ev.clientY - this.startY;\r\n                                //console.log(changeX, changeY)\r\n                                this.IL += changeX;\r\n                                this.IT += changeY;\r\n                                this.drawImage();\r\n                                this.startX = ev.clientX;\r\n                                this.startY = ev.clientY;\r\n                            }\r\n                        }\r\n                    }\r\n                    onMouseUp={\r\n                        ev => {\r\n                            this.setState({ MouseDown: false });\r\n                        }\r\n                    }\r\n                    style={{ borderStyle: \"solid\" }}\r\n                >\r\n                    <canvas className='canvasBox'\r\n                        ref={x => this._canvas = x}\r\n                        width={W}\r\n                        height={H}\r\n                    ></canvas>\r\n                    <div className='mark'\r\n                        style={{\r\n                            width: MW + \"px\",\r\n                            height: MH + \"px\",\r\n                            left: ML + \"px\",\r\n                            top: MT + \"px\",\r\n                            display: S ? \"block\" : \"none\",\r\n                            backgroundColor: \"#123123\",\r\n                            opacity: 0.3,\r\n                            position: \"absolute\",\r\n                            zIndex: 20\r\n                        }}\r\n                    ></div>\r\n                </div>\r\n                <div>\r\n                    <input type=\"file\" accept='image/*' className='file' ref={x => { this._file = x }} style={{ display: \"none\" }} onChange={this.fileChange} />\r\n                    <button className='choose' onClick={() => { this._file.click() }}>选择图片</button>\r\n                    <button onClick={\r\n                        ev => {\r\n                            if (!this.img) return;\r\n                            this.IW += 10;\r\n                            this.IH += 10 * (this.img.height / this.img.width);\r\n                            this.drawImage();\r\n                        }}>放大</button>\r\n                    <button onClick={ev => {\r\n                        if (!this.img) return;\r\n                        this.IW -= 10;\r\n                        this.IH -= 10 * (this.img.height / this.img.width);\r\n                        this.drawImage();\r\n                    }}>缩小</button>\r\n                    <button className=\"submit\" onClick={\r\n                        ev => {\r\n                            if (!this.img) return;\r\n                            let imagedata = this.ctx.getImageData(ML, MT, MW, MH),\r\n                                canvas2 = document.createElement(\"canvas\"),\r\n                                ctx2 = canvas2.getContext(\"2d\");\r\n                            canvas2.width = MW;\r\n                            canvas2.height = MH;\r\n                            ctx2.putImageData(imagedata, 0, 0, 0, 0, MW, MH);\r\n                            //console.log(this.canvasToFile(canvas2));\r\n                            const formData = new FormData()\r\n                            formData.append(\"file\", this.canvasToFile(canvas2));\r\n                            formData.append('type', \"topic\")\r\n                            this.setState({\r\n                                uploading: true\r\n                            })\r\n                            Axios.post(\"/upload/\", formData).then(\r\n                                res => {\r\n                                    //console.log(res.data);\r\n                                    if (res.data.code === 200) {\r\n                                        this.setState({url: res.data.content.urls[0]})\r\n                                        //this.props.change(canvas2.toDataURL(),this.state.url);\r\n                                        this.props.change(this.state.url);\r\n                                        message.success(\"图片上传成功\");\r\n                                    } else {\r\n                                        if (!res.data.content) {\r\n                                            message.error(res.data.message)\r\n                                        } else {\r\n                                            var error = \"\";\r\n                                            for (var k = 0; k < res.data.content.errors.length; k++) {\r\n                                                error += res.data.content.errors[k] + \"<br/>\";\r\n                                            }\r\n                                            message.error(error);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            ).catch(error => { console.log(\"axios error \", error); })\r\n                            \r\n                        }\r\n                    }>保存图片</button>\r\n                    <button onClick={() => {\r\n                        this.props.back()\r\n                    }}>放弃上传</button>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n\r\n    fileChange = () => {\r\n        this.setState({ S: true })\r\n        let picOM = this._file.files[0];\r\n        if (!picOM) return;\r\n        let fileReader = new FileReader();\r\n        fileReader.readAsDataURL(picOM);\r\n        fileReader.onload = (ev) => {\r\n            this.img = new Image();\r\n            this.img.src = ev.target.result;\r\n            this.img.onload = () => {\r\n                let n = 1,\r\n                    { W, H } = this.state;\r\n                this.IW = this.img.width;\r\n                this.IH = this.img.height;\r\n                if (this.IW > this.IH) {\r\n                    n = this.IW / W;\r\n                    this.IW = W;\r\n                    this.IH = this.IH / n;\r\n                } else {\r\n                    n = this.IH / H;\r\n                    this.IH = H;\r\n                    this.IW = this.IW / n;\r\n                }\r\n                this.IL = (W - this.IW) / 2;\r\n                this.IT = (H - this.IH) / 2;\r\n                this.drawImage();\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImage = () => {\r\n        let { W, H } = this.state;\r\n        this.ctx = this._canvas.getContext(\"2d\");\r\n        this.ctx.clearRect(0, 0, W, H);\r\n        this.ctx.drawImage(this.img, this.IL, this.IT, this.IW, this.IH);\r\n    }\r\n\r\n    canvasToFile = (canvas) => {\r\n        var fileName = \"generate.jpg\";\r\n        var dataurl = canvas.toDataURL(\"image/jpg\");\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        var file = new File([u8arr], fileName, { type: mime });\r\n        //file.lastModifiedDate = new Date();\r\n        return file\r\n    }\r\n}\r\nexport default ImageClip;",{"ruleId":"204","replacedBy":"205"},{"ruleId":"206","replacedBy":"207"},{"ruleId":"208","severity":1,"message":"209","line":34,"column":11,"nodeType":"210","messageId":"211","endLine":34,"endColumn":23},{"ruleId":"208","severity":1,"message":"212","line":34,"column":21,"nodeType":"210","messageId":"211","endLine":34,"endColumn":57},{"ruleId":"213","severity":1,"message":"214","line":22,"column":29,"nodeType":"210","endLine":22,"endColumn":196},{"ruleId":"213","severity":1,"message":"214","line":25,"column":29,"nodeType":"210","endLine":25,"endColumn":196},{"ruleId":"213","severity":1,"message":"214","line":28,"column":29,"nodeType":"210","endLine":28,"endColumn":196},{"ruleId":"213","severity":1,"message":"214","line":31,"column":29,"nodeType":"210","endLine":31,"endColumn":196},{"ruleId":"213","severity":1,"message":"214","line":36,"column":21,"nodeType":"210","endLine":36,"endColumn":188},{"ruleId":"215","severity":1,"message":"216","line":3,"column":8,"nodeType":"217","messageId":"218","endLine":3,"endColumn":21},{"ruleId":"215","severity":1,"message":"219","line":4,"column":8,"nodeType":"217","messageId":"218","endLine":4,"endColumn":17},{"ruleId":"220","severity":1,"message":"221","line":9,"column":22,"nodeType":"222","messageId":"223","endLine":9,"endColumn":34},{"ruleId":"224","severity":1,"message":"225","line":10,"column":26,"nodeType":"226","messageId":"227","endLine":10,"endColumn":28},{"ruleId":"208","severity":1,"message":"212","line":47,"column":21,"nodeType":"210","messageId":"211","endLine":47,"endColumn":57},{"ruleId":"215","severity":1,"message":"228","line":4,"column":7,"nodeType":"217","messageId":"218","endLine":4,"endColumn":19},{"ruleId":"215","severity":1,"message":"229","line":1,"column":29,"nodeType":"217","messageId":"218","endLine":1,"endColumn":49},{"ruleId":"215","severity":1,"message":"230","line":1,"column":8,"nodeType":"217","messageId":"218","endLine":1,"endColumn":13},{"ruleId":"215","severity":1,"message":"231","line":6,"column":9,"nodeType":"217","messageId":"218","endLine":6,"endColumn":19},{"ruleId":"208","severity":1,"message":"212","line":43,"column":21,"nodeType":"210","messageId":"211","endLine":43,"endColumn":57},{"ruleId":"208","severity":1,"message":"212","line":43,"column":21,"nodeType":"210","messageId":"211","endLine":43,"endColumn":57},{"ruleId":"215","severity":1,"message":"232","line":1,"column":35,"nodeType":"217","messageId":"218","endLine":1,"endColumn":40},{"ruleId":"215","severity":1,"message":"233","line":1,"column":42,"nodeType":"217","messageId":"218","endLine":1,"endColumn":46},{"ruleId":"215","severity":1,"message":"234","line":1,"column":48,"nodeType":"217","messageId":"218","endLine":1,"endColumn":57},{"ruleId":"215","severity":1,"message":"235","line":6,"column":10,"nodeType":"217","messageId":"218","endLine":6,"endColumn":25},{"ruleId":"215","severity":1,"message":"236","line":6,"column":27,"nodeType":"217","messageId":"218","endLine":6,"endColumn":39},{"ruleId":"215","severity":1,"message":"237","line":9,"column":9,"nodeType":"217","messageId":"218","endLine":9,"endColumn":16},{"ruleId":"215","severity":1,"message":"238","line":15,"column":22,"nodeType":"217","messageId":"218","endLine":15,"endColumn":25},{"ruleId":"215","severity":1,"message":"239","line":1,"column":10,"nodeType":"217","messageId":"218","endLine":1,"endColumn":22},"no-native-reassign",["240"],"no-negated-in-lhs",["241"],"react/jsx-pascal-case","Imported JSX component Side_bar must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","usePascalOrSnakeCase","Imported JSX component Card_list must be in PascalCase or SCREAMING_SNAKE_CASE","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-unused-vars","'ReactMarkdown' is defined but never used.","Identifier","unusedVar","'remarkGfm' is defined but never used.","no-new-object","The object literal notation {} is preferrable.","NewExpression","preferLiteral","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'initialState' is assigned a value but never used.","'DELETE_FLASH_MESSAGE' is defined but never used.","'axios' is defined but never used.","'halfamonth' is assigned a value but never used.","'Modal' is defined but never used.","'Icon' is defined but never used.","'uploading' is defined but never used.","'LoadingOutlined' is defined but never used.","'PlusOutlined' is defined but never used.","'Dragger' is assigned a value but never used.","'pic' is assigned a value but never used.","'AutoComplete' is defined but never used.","no-global-assign","no-unsafe-negation"]